-- INIZIO CREAZIONE INCARICO MV020-016-2010

declare
  i integer;
begin
  select COUNT(*) into i from P441_CEDOLINO;
  if i > 0 then
    select COUNT(*) into i from P250_VOCIAGGIUNTIVE t where T.COD_CONTRATTO ='EDP' AND T.NOME_VOCEAGGIUNTIVA = 'INCARICO';
    if i > 0 then

      INSERT INTO I501INCARICO SELECT 'MV020-016-2010','Dirigente medico ex modulo con struttura complessa area territorio (dec. 2010-2014)' FROM DUAL WHERE NOT EXISTS (SELECT 'X' FROM I501INCARICO T WHERE T.CODICE='MV020-016-2010');
      INSERT INTO P252_VOCIAGGIUNTIVEIMPORTI
      SELECT COD_CONTRATTO, NOME_VOCEAGGIUNTIVA, 'MV020-016-2010', DECORRENZA, 'Dir. medico ex modulo con S.C. territorio (dec. 2010-2014)', COD_VOCE, COD_VOCE_SPECIALE,
             254.42 IMPORTO,
             EROGAZIONE_MESI, DECORRENZA_FINE, COD_VALUTA_INIZ
      FROM P252_VOCIAGGIUNTIVEIMPORTI P252
      WHERE P252.COD_CONTRATTO='EDP' AND P252.NOME_VOCEAGGIUNTIVA='INCARICO'
      AND P252.CODICE='MV020-006-2010' AND P252.COD_VOCE='00212' AND NOT EXISTS
                  (SELECT 'X' FROM P252_VOCIAGGIUNTIVEIMPORTI T WHERE T.COD_CONTRATTO='EDP'
                  AND T.NOME_VOCEAGGIUNTIVA='INCARICO' AND T.CODICE='MV020-016-2010');

    end if;
  end if;
end;
/

-- FINE CREAZIONE INCARICO MV020-016-2010

comment on column P430_ANAGRAFICO.altra_amm
  is 'Altra amministrazione: N=Nessuna, O=Servizio presso altra amministrazione, I=Personale di altra amministrazione, D=Direttore proveniente da altra amministrazione ente versante';
  
---
--- INIZIO NUOVO P670 - UNIEMENS - ENTEVERSANTE per quadro V1
---

declare
  i integer;
begin
  select COUNT(*) into i from P670_XMLREGOLE t where t.Nome_Flusso='UNIEMENS';
  if i > 0 then
     DELETE P670_XMLREGOLE t WHERE t.Nome_Flusso='UNIEMENS';

insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D305', 'ImponibileCtrAgg', 'Importo dell’imponibile soggetto a contribuzione aggiuntiva 1%', 'D300', null, 'S', 'P1000', null, 'S', 
        'SELECT NVL(ROUND(SUM(DATO),2) * 100,0) IMPONIBILE, NVL(ROUND(SUM(DATO),2),0) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ' || chr(10) || 'DECODE(SIGN(ABS(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,0, IMPORTO - TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11160 BASE'',''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ')', 
        'SELECT NVL(ROUND(SUM(DATO),2) * 100,0) IMPONIBILE, NVL(ROUND(SUM(DATO),2),0) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ' || chr(10) || 'DECODE(SIGN(ABS(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,0, IMPORTO - TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11160 BASE'',''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ')', 
        'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z500', 'DatiQuadraturaRetrContr', 'Informazioni necessarie alla quadratura del numero e degli importi delle denunce individuali', 'A370', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D125', 'IdSettimana', 'Progressivo assoluto della settimana (da domenica a sabato), o frazione, nell''anno', 'D120', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D130', 'TipoCopertura', 'Tipo copertura', 'D120', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D135', 'CodiceEvento', 'Codice evento per settimana parzialmente retribuita o totalmente non retribuita', 'D120', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z940', 'CodFondo', 'Fondo Pensione Complementare', 'Z850', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z370', 'NumDip', 'Numero totale di lavoratori cui la contribuzione si riferisce', 'Z350', null, 'S', null, null, 'S', 'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',NUMDIP,0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 
        'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',NUMDIP,0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z850', 'ImportiDovuti_Z3', 'Importi derivanti da imponibili dichiarati in D0_DenunciaIndividuale ex quadro Z3', 'Z840', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F130', 'TipoPartTime', 'Codice tipo part-time', 'F125', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F135', 'PercPartTime', 'Percentuale part-time', 'F125', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F155', 'RegimeFineServizio', 'Codice regime fine servizio', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F160', 'PercAspettativaL300_70', 'Percentuale aspettativa sindacale L.300/1970', 'F015', null, 'S', 'P1000', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D415', 'CausaleTrattPens', 'Causale della trattenuta', 'D410', null, 'N', null, null, 'S', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       :CodCodiciaccorpamentovoci CAUSALETRATTPENS, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'HAVING SUM(P442.IMPORTO) <> 0', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       :CodCodiciaccorpamentovoci CAUSALETRATTPENS, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'HAVING SUM(P442.IMPORTO) <> 0', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F615', 'Imponibile', 'Imponibile Gestione credito', 'F600', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11140 BASE'',''11140 ENTE'',''11150 BASE'',''11150 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11140 BASE'',''11140 ENTE'',''11150 BASE'',''11150 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F300', 'GestPensionistica', 'Gestione pensionistica', 'F020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H305', 'CodGestione', 'Codice gestione pensionistica', 'H300', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F305', 'CodGestione', 'Codice gestione pensionistica', 'F300', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F360', 'Maggiorazione', 'Maggiorazioni', 'F300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F365', 'CodMaggiorazione', 'Codice tipo maggiorazione', 'F360', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F370', 'GiorniMaggiorazione', 'Giorni utili maggiorazione', 'F360', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F500', 'GestPrevidenziale', 'Gestione previdenziale', 'F020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F505', 'CodGestione', 'Codice gestione previdenziale', 'F500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F600', 'GestCredito', 'Gestione credito', 'F020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H500', 'GestPrevidenziale', 'Gestione previdenziale', 'H020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H505', 'CodGestione', 'Codice gestione previdenziale', 'H500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H600', 'GestCredito', 'Gestione credito', 'H020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H700', 'ENPDEP', 'Gestione ENPDEP', 'H020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z905', 'RiscattoPens', 'Totale riscatto ai fini pensionistici (codice F24EP = 11)', 'Z845', null, 'S', 'P1', null, 'S', 'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''11'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''11'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 'N', null, '11', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H605', 'CodGestione', 'Codice gestione credito', 'H600', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G020', 'DataSottoscrizioneDomanda', 'Data sottoscrizione domanda', 'G005', 'D10', 'N', null, null, 'S', 'SELECT P430.DATA_DOMANDA_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE', 'SELECT P430.DATA_DOMANDA_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H705', 'CodGestione', 'Codice gestione ENPDEP', 'H700', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F815', 'Imponibile', 'Imponibile', 'F060', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z380', 'SommaADebito', 'Importo del contributo', 'Z350', null, 'S', 'P1000', null, 'S', 'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',IMPORTO,0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 
        'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',IMPORTO,0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 'N', null, null, 'D', 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D025', 'Qualifica2', 'Qualifica2 (tipo orario)', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D030', 'Qualifica3', 'Qualifica3 (tipo tempo)', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D035', 'TipoContribuzione', 'Tipo contribuzione', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D060', 'TipoAssunzione', 'Codice tipo assunzione ', 'D050', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D036', 'Cittadinanza', 'Cittadinanza del lavoratore', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z035', 'ForzaAziendale', 'Numero di tutti i dipendenti a tempo pieno e i dipendenti a tempo parziale proporzionati', 'A370', null, 'S', null, null, 'N', 'SELECT COUNT(DISTINCT P673.PROGRESSIVO) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '(SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A ' || chr(10) || 'WHERE P673A.ID_FLUSSO=P673.ID_FLUSSO AND P673A.PROGRESSIVO=P673.PROGRESSIVO ' || chr(10) || 'AND P673A.PROGRESSIVO_NUMERO=P673.PROGRESSIVO_NUMERO AND P673A.TIPO_RECORD=P673.TIPO_RECORD' || chr(10) || 'AND P673A.NUMERO=''D020'' AND P673A.VALORE=''Z'')', 'SELECT COUNT(DISTINCT P673.PROGRESSIVO) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '(SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A ' || chr(10) || 'WHERE P673A.ID_FLUSSO=P673.ID_FLUSSO AND P673A.PROGRESSIVO=P673.PROGRESSIVO ' || chr(10) || 'AND P673A.PROGRESSIVO_NUMERO=P673.PROGRESSIVO_NUMERO AND P673A.TIPO_RECORD=P673.TIPO_RECORD' || chr(10) || 'AND P673A.NUMERO=''D020'' AND P673A.VALORE=''Z'')', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D040', 'CodiceComune', 'Comune in cui il lavoratore svolge prevalentemente la propria attività lavorativa', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D045', 'CodiceContratto', 'Codice contratto (EP per gli enti pubblici)', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D046', 'OrarioContrattuale', 'Numero ore settimanali previste dal contratto di lavoro', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D047', 'PercPartTime', 'Percentuale di part-time indicata nel contratto di lavoro', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D050', 'Assunzione', 'Informazioni relative all''eventuale assunzione', 'A350', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D055', 'GiornoAssunzione', 'Giorno del mese in cui è intervenuta l''assunzione', 'D050', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C017', 'CodiceComune', 'Comune in cui il lavoratore svolge prevalentemente la propria attività lavorativa', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E100', 'DatiPrevCompl', 'Dati relativi alla previdenza complementare', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E110', 'GiornoOpzioneTFR', 'Data Opzione TFR', 'E100', 'D10', 'N', null, null, 'S', 'SELECT P430.DATA_DOMANDA_FPC DATO ' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO=:Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC=P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_INPDAPREGIMEFINESERV=''2''', 'SELECT P430.DATA_DOMANDA_FPC DATO ' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO=:Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC=P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_INPDAPREGIMEFINESERV=''2''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E115', 'CodTipoIscrFondoPrevCompl', 'Tipologia iscritti a forme pensionistiche complementari', 'E100', null, 'N', null, null, 'S', 'SELECT ''1'' DATO FROM DUAL', 'SELECT ''1'' DATO FROM DUAL', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E200', 'DatiSedeLavoro', 'Dati relativi alla sede di lavoro del lavoratore', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E205', 'CodiceComune', 'Codice COP della Sede di Lavoro', 'E200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E210', 'CAP', 'Codice CAP della Sede di Lavoro', 'E200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E300', 'E0_PeriodoNelMese', 'Dati retributivi e contributivi relativi ai periodi correnti', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E400', 'E1_FondoPensioneCompl', 'Dati relativi alla posizione contributiva degli iscritti ai Fondi Pensione Previdenza Complementare', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E600', 'V1_PeriodoPrecedente', 'Informazioni relative ai dati retributivi e contributivi riguardanti periodi pregressi', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F005', 'GiornoInizio', 'Data inizio periodo', 'E300', 'D10', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F010', 'GiornoFine', 'Data fine periodo', 'E300', 'D10', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F015', 'InquadramentoLavPA', 'Inquadramento', 'E300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F025', 'CodiceCessazione', 'Codice cessazione o sospensione', 'E300', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F100', 'TipoImpiego', 'Tipo impiego', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F105', 'TipoServizio', 'Tipo servizio', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F110', 'PercRetribuzione', 'Percentuale retribuzione', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F115', 'Contratto', 'Codice contratto', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F120', 'Qualifica', 'Codice qualifica', 'F015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F125', 'PartTimePA', 'Part-time', 'F015', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D340', 'ImportoVersMal', 'Importo della contribuzione o della restituzione dell’indennità di malattia', 'D330', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, 'D', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C020', 'TipoRapporto', 'Tipo rapporto', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D065', 'Cessazione', 'Informazioni relative all''eventuale cessazione', 'A350', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D355', 'MalACredAltre', 'Informazioni relative ad altre causali di recupero dell’indennità di malattia', 'D350', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D070', 'GiornoCessazione', 'Giorno del mese in cui è intervenuta la cessazione', 'D065', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C025', 'CodiceAttivita', 'Codice attivita''', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C030', 'Imponibile', 'Compensi effettivamente percepiti', 'A450', null, 'S', 'P1000', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C035', 'Aliquota', 'Aliquota applicata espressa in centesimi', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C040', 'AltraAss', 'Altra assicurazione in caso di applicazione di aliquote ridotte', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H385', 'QuotaDatoreL166_91', 'Quota datore di lavoro per previdenza ed assistenza integrativa (L.166/91)', 'H300', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F385'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F385'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C005', 'CFCollaboratore', 'Codice fiscale del collaboratore', 'A450', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z845', 'ImportiDovuti_Z2', 'Importi derivanti da imponibili dichiarati in D0_DenunciaIndividuale ex quadro Z2', 'Z840', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C010', 'Cognome', 'Cognome del collaboratore', 'A450', 'L30', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C015', 'Nome', 'Nome del collaboratore', 'A450', 'L20', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z805', 'AnnoMese', 'Periodo di riferimento', 'A555', 'D7', 'N', null, null, 'S', null, null, 'N', null, null, null, 'S3', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z510', 'TotaleADebito', 'Importo totale delle contribuzioni presenti nelle denunce individuali nonche'' nella denuncia aziendale', 'Z500', null, 'S', 'P1000', null, 'N', 'SELECT NVL(SUM(TO_NUMBER(NVL(P673.VALORE,0))),0) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672, P670_XMLREGOLE P670' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P670.NOME_FLUSSO = P672.NOME_FLUSSO AND P670.NUMERO = P673.NUMERO' || chr(10) || 'AND P672.DATA_FINE_PERIODO BETWEEN P670.DECORRENZA AND P670.DECORRENZA_FINE ' || chr(10) || 'AND P670.TIPO_IMPORTO = ''D'' AND P673.TIPO_RECORD = ''M''', 'SELECT NVL(SUM(TO_NUMBER(NVL(P673.VALORE,0))),0) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672, P670_XMLREGOLE P670' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P670.NOME_FLUSSO = P672.NOME_FLUSSO AND P670.NUMERO = P673.NUMERO' || chr(10) || 'AND P672.DATA_FINE_PERIODO BETWEEN P670.DECORRENZA AND P670.DECORRENZA_FINE ' || chr(10) || 'AND P670.TIPO_IMPORTO = ''D'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G040', 'AliquotaDL', 'Aliquota contributiva a carico del datore di lavoro', 'G005', null, 'S', null, null, 'S', 'SELECT ROUND(P026.PERC_ENTE * 1000,3) DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'SELECT ROUND(P026.PERC_ENTE * 1000,3) DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H380', 'RetribIndivAnzianita', 'RIA /Classi e Scatti', 'H300', null, 'S', 'P1', null, 'N', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-RIA''', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-RIA''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H615', 'Imponibile', 'Imponibile Gestione credito', 'H600', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F615'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F615'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H040', 'RetribValutabileTFR', 'Retribuzione valutabile ai fini TFR', 'E600', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F040'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F040'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H315', 'Contributo', 'Totale contributi pensionistici per il periodo', 'H300', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F315'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F315'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H375', 'StipendioTabellare', 'Stipendio tabellare', 'H300', null, 'S', 'P1', null, 'N', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-STIP''', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-STIP''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H045', 'DescrMotivoUtilizzo', 'Atto da cui discende la regolarizzazione contributiva', 'E600', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H390', 'ContributoL166_91', 'Contributo di solidarietà L.166/91', 'H300', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F390'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F390'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H620', 'Contributo', 'Contributo Gestione credito', 'H600', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F620'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F620'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H710', 'Imponibile', 'Imponibile Gestione ENPDEP', 'H700', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F710'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F710'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H047', 'DataAtto', 'Data della sentenza, della transazione, della circolare o del messaggio', 'H045', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H050', 'IdentAtto', 'Identificativo dell’atto; numero della sentenza, del verbale della transazione, della circolare o del messaggio', 'H045', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z375', 'Retribuzione', 'Totale delle retribuzioni cui la contribuzione si riferisce', 'Z350', null, 'S', 'P1000', null, 'S', 'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',ROUND(IMPORTO / 2 * 100),0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 
        'SELECT DECODE(:CodCodiciaccorpamentovoci,''X650'',ROUND(IMPORTO / 2 * 100),0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT COUNT(*) NUMDIP, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT P430.PROGRESSIVO, SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P441_CEDOLINO P441, P442_CEDOLINOVOCI P442, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P430.PROGRESSIVO = P441.PROGRESSIVO' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.MATR_PENSIONISTICA,''X'') = NVL(:MatricolaInps,''X'')' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO ' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P430.PROGRESSIVO' || chr(10) || ')' || chr(10) || ')', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z880', 'ContributoL166_91', 'Totale contributo solidarietà L.166/91 (codice F24EP = 06)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F390'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H390'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''6'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F390'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H390'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''6'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '06', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z885', 'ContributoTFS', 'Totale contributo TFS (codice F24EP = 07)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F525'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H525'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''7'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F525'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H525'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''7'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '07', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z890', 'ContributoTFR', 'Totale contributo TFR (codice F24EP = 08)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F515'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H515'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''8'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F515'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H505'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H515'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''8'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '08', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H310', 'Imponibile', 'Imponibile pensionistico per il periodo', 'H300', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F310'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F310'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H320', 'Contrib1PerCento', 'Contributo 1% a carico iscritto eccedente il tetto retributivo', 'H300', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F320'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F320'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H365', 'CodMaggiorazione', 'Codice tipo maggiorazione', 'H360', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H370', 'GiorniMaggiorazione', 'Giorni utili maggiorazione', 'H360', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z505', 'NumDenIndiv', 'Numero di denunce individuali inviate', 'Z500', null, 'S', null, null, 'N', 'SELECT COUNT(*) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''', 'SELECT COUNT(*) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z350', 'AltrePartiteADebito', 'Informazioni relative alla contribuzione con causali non riconducibili a livello individuale', 'A370', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z355', 'CausaleADebito', 'Causale della partita a debito', 'Z350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D075', 'TipoCessazione', 'Codice tipo cessazione', 'D065', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D080', 'DatiRetributivi', 'Informazioni retributive del mese', 'A350', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D085', 'TipoLavoratore', 'Tipologie particolari di lavoratori', 'D080', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D093', 'Malattia', 'Informazioni relative ai conguagli dell’indennità di malattia', 'D080', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D094', 'LavPensionato', 'Informazioni relative alle trattenute al lavoratore pensionato', 'D080', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D120', 'Settimana', 'Informazioni relative alle settimane o frazione di settimana del mese', 'D080', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D165', 'SettimaneUtili', 'Numero delle settimane utili per i lavoratori a tempo parziale', 'D080', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D300', 'Contrib1PerCento', 'Informazioni relative alla contribuzione aggiuntiva dell’1%', 'D092', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D310', 'ContribAggCorrente', 'Importo della contribuzione aggiuntiva dell’1%', 'D300', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, 'D', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D350', 'MalACredito', 'Informazioni relative ai conguagli dell’indennità di malattia a credito', 'D093', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D365', 'ImportoRecMal', 'Importo dell’indennità di malattia recuperata', 'D355', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, 'C', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D400', 'LavPensTrattenuta', 'Informazioni relative alle trattenute al lavoratore pensionato', 'D094', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D410', 'FondiDiversi', 'Informazioni relative alle trattenute al lavoratore pensionato di Fondi e Gestioni speciali', 'D400', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D090', 'Imponibile', 'Imponibile previdenziale', 'D080', null, 'S', 'P1000', null, 'S', 'SELECT COD_VOCE, COD_VOCE_SPECIALE, DATA_COMPETENZA_DA, DATA_COMPETENZA_A, SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) IMPONIBILE, SUM(IMPORTO) IMPORTO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND ' || chr(10) || 'P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11055 BASE'',''11160 BASE'', ''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M'' AND IMPORTO <> 0' || chr(10) || 'GROUP BY COD_VOCE, COD_VOCE_SPECIALE, DATA_COMPETENZA_DA, DATA_COMPETENZA_A', 'SELECT COD_VOCE, COD_VOCE_SPECIALE, DATA_COMPETENZA_DA, DATA_COMPETENZA_A, SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) IMPONIBILE, SUM(IMPORTO) IMPORTO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND ' || chr(10) || 'P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11055 BASE'',''11160 BASE'', ''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M'' AND IMPORTO <> 0' || chr(10) || 'GROUP BY COD_VOCE, COD_VOCE_SPECIALE, DATA_COMPETENZA_DA, DATA_COMPETENZA_A', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D161', 'GiorniContribuiti', 'Numero dei giorni per i quali è stata versata contribuzione', 'D080', null, 'S', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D162', 'OreContribuite', 'Numero di ore per le quali è stata versata contribuzione', 'D080', null, 'S', 'P1000', null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D160', 'GiorniRetribuiti', 'Numero dei giorni retribuiti nel mese', 'D080', null, 'S', null, null, 'S', 'SELECT (VALORE+VARIAZIONE_TOTALE) DATO FROM P450_DATIMENSILI P450, P441_CEDOLINO P441 ' || chr(10) || '  WHERE P450.PROGRESSIVO = :Progressivo AND P441.PROGRESSIVO = P450.PROGRESSIVO' || chr(10) || '  AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND TIPO_CEDOLINO = ''NR'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || '  AND P441.DATA_RETRIBUZIONE= DATA_CEDOLINO AND DATA_CEDOLINO = P450.DATA_RETRIBUZIONE' || chr(10) || '  AND COD_CAMPO = ''GGINP'' AND TIPO_RECORD = ''M''', 'SELECT (VALORE+VARIAZIONE_TOTALE) DATO FROM P450_DATIMENSILI P450, P441_CEDOLINO P441 ' || chr(10) || '  WHERE P450.PROGRESSIVO = :Progressivo AND P441.PROGRESSIVO = P450.PROGRESSIVO' || chr(10) || '  AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND TIPO_CEDOLINO = ''NR'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || '  AND P441.DATA_RETRIBUZIONE= DATA_CEDOLINO AND DATA_CEDOLINO = P450.DATA_RETRIBUZIONE' || chr(10) || '  AND COD_CAMPO = ''GGINP'' AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z005', 'DataEsecutivita', 'Data di esecutività dell''atto emesso per il pagamento della somma dovuta', 'A370', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z010', 'TrattQuotaLav', 'Avvenuta o mancata effettuazione delle trattenute contributive a carico del lavoratore', 'A370', null, 'N', null, null, 'N', 'SELECT ''S'' DATO FROM DUAL', 'SELECT ''S'' DATO FROM DUAL', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D049', 'NumMensilita', 'Numero di mensilità retribuite nell''anno', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D330', 'MalADebito', 'Informazioni relative alla restituzione di indennità di malattia corrisposte', 'D093', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A100', 'DatiMittente', 'Informazioni relative al mittente', 'A000', null, 'N', null, null, 'S', null, null, 'N', null, 'Tipo=1', null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A305', 'Matricola', 'Matricola aziendale INPS', 'A300', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D140', 'Giorno', 'Informazioni relative ai giorni del mese', 'D080', null, 'N', null, null, 'N', 'SELECT ''GG='' || TRIM(TO_CHAR(TO_NUMBER(TO_CHAR(:DataInps,''DD'')))) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P090_CODICIINPS P090' || chr(10) || '-- Tipo contribuzione uniEMens significativa' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataInps BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P090.COD_CODICEINPS = P430.COD_CODICEINPS AND :DataInps BETWEEN P090.DECORRENZA AND P090.DECORRENZA_FINE' || chr(10) || 'AND P090.COD_EMENSTIPOCONTR IS NOT NULL', 'SELECT ''GG='' || TRIM(TO_CHAR(TO_NUMBER(TO_CHAR(:DataInps,''DD'')))) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P090_CODICIINPS P090' || chr(10) || '-- Tipo contribuzione uniEMens significativa' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataInps BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P090.COD_CODICEINPS = P430.COD_CODICEINPS AND :DataInps BETWEEN P090.DECORRENZA AND P090.DECORRENZA_FINE' || chr(10) || 'AND P090.COD_EMENSTIPOCONTR IS NOT NULL', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A105', 'CFPersonaMittente', 'Codice fiscale del soggetto (persona fisica) abilitato alla trasmissione', 'A100', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A110', 'RagSocMittente', 'Ragione sociale del titolare che effettua la trasmissione', 'A100', 'L50', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A115', 'CFMittente', 'Codice fiscale del soggetto titolare, persona fisica o giuridica, che effettua la trasmissione', 'A100', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E015', 'Nome', 'Nome del lavoratore', 'A550', 'L30', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A120', 'CFSoftwarehouse', 'Codice fiscale del soggetto giuridico titolare del flusso ', 'A100', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A215', 'RagSocAzienda', 'Ragione sociale dell''azienda', 'A200', 'L50', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A300', 'PosContributiva', 'Denunce individuali dei lavoratori dipendenti relative ad una posizione contributiva DM', 'A200', null, 'N', null, null, 'S', null, null, 'N', null, 'Composizione=CP', null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A505', 'PRGAZIENDA', 'Progressivo azienda', 'A500', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A500', 'ListaPosPA', 'Denunce individuali dei lavoratori INPDAP', 'A200', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D405', 'QuotaFPLD', 'Importo trattenuto a lavoratore pensionato FPLD', 'D400', null, 'S', 'P1', null, 'S', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'HAVING SUM(P442.IMPORTO) <> 0', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = :CodCodiciaccorpamentovoci' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'HAVING SUM(P442.IMPORTO) <> 0', 'N', null, null, 'D', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A450', 'Collaboratore', 'Denuncia individuale di ogni singolo lavoratore parasubordinato ai fini INPS', 'A400', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C045', 'Dal', 'Data di inizio di attività cui si riferisce il compenso erogato', 'A450', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A515', 'ISTAT', 'Codice ISTAT dell''azienda', 'A500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D142', 'Lavorato', 'Prestazione d''opera subordinata retribuita', 'D140', null, 'N', null, null, 'S', 'SELECT DECODE(NVL(TO_CHAR(MAX(T430.PROGRESSIVO)),''N''),''N'',''N'',''S'') DATO' || chr(10) || 'FROM T430_STORICO T430' || chr(10) || '-- Dipendente in servizio o indennità di maternita''' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInps BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND (:DataInps BETWEEN T430.INIZIO AND NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY'')) OR' || chr(10) || '     :DataInps BETWEEN T430.INIZIO_IND_MAT AND T430.FINE_IND_MAT)' || chr(10) || 'AND (' || chr(10) || '     -- Esiste almeno una timbratura' || chr(10) || '     EXISTS (SELECT ''X'' FROM T100_TIMBRATURE T100' || chr(10) || '     WHERE T100.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T100.DATA' || chr(10) || '     AND T100.FLAG IN(''O'',''I''))' || chr(10) || '     -- Esiste almeno un giustificativo di presenza' || chr(10) || '     OR EXISTS (SELECT ''X'' FROM T040_GIUSTIFICATIVI T040, T275_CAUPRESENZE T275' || chr(10) || '     WHERE T040.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T040.DATA' || chr(10) || '     AND T040.CAUSALE = T275.CODICE)' || chr(10) || '     -- Esiste almento un''assenza con giorno lavorativo ai fini INPS attivo' || chr(10) || '     OR EXISTS (SELECT ''X'' FROM T040_GIUSTIFICATIVI T040, T265_CAUASSENZE T265' || chr(10) || '     WHERE T040.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T040.DATA' || chr(10) || '     AND T040.CAUSALE = T265.CODICE AND T265.GLAVINPS = ''S'')' || chr(10) || '    )' || chr(10) || '', 
        'SELECT DECODE(NVL(TO_CHAR(MAX(T430.PROGRESSIVO)),''N''),''N'',''N'',''S'') DATO' || chr(10) || 'FROM T430_STORICO T430' || chr(10) || '-- Dipendente in servizio o indennità di maternita''' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInps BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND (:DataInps BETWEEN T430.INIZIO AND NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY'')) OR' || chr(10) || '     :DataInps BETWEEN T430.INIZIO_IND_MAT AND T430.FINE_IND_MAT)' || chr(10) || 'AND (' || chr(10) || '     -- Esiste almeno una timbratura' || chr(10) || '     EXISTS (SELECT ''X'' FROM T100_TIMBRATURE T100' || chr(10) || '     WHERE T100.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T100.DATA' || chr(10) || '     AND T100.FLAG IN(''O'',''I''))' || chr(10) || '     -- Esiste almeno un giustificativo di presenza' || chr(10) || '     OR EXISTS (SELECT ''X'' FROM T040_GIUSTIFICATIVI T040, T275_CAUPRESENZE T275' || chr(10) || '     WHERE T040.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T040.DATA' || chr(10) || '     AND T040.CAUSALE = T275.CODICE)' || chr(10) || '     -- Esiste almento un''assenza con giorno lavorativo ai fini INPS attivo' || chr(10) || '     OR EXISTS (SELECT ''X'' FROM T040_GIUSTIFICATIVI T040, T265_CAUASSENZE T265' || chr(10) || '     WHERE T040.PROGRESSIVO = T430.PROGRESSIVO AND :DataInps = T040.DATA' || chr(10) || '     AND T040.CAUSALE = T265.CODICE AND T265.GLAVINPS = ''S'')' || chr(10) || '    )' || chr(10) || '', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A510', 'CFRappresentanteFirmatario', 'Codice fiscale rappresentante firmatario della denuncia', 'A500', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A520', 'FormaGiuridica', 'Codice forma giuridica dell''azienda', 'A500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A540', 'PosPA', 'Denuncia retributiva di ogni singolo lavoratore dipendente ai fini INPDAP', 'A500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A555', 'AltriImportiDovuti_Z2', 'Altri importi non derivanti da imponibili dichiarati in D0_DenunciaIndividuale', 'A500', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S3', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'A550', 'D0_DenunciaIndividuale', 'Denuncia retributiva di ogni singolo lavoratore INPDAP', 'A540', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E005', 'CFLavoratore', 'Codice fiscale del lavoratore', 'A550', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E010', 'Cognome', 'Cognome del lavoratore', 'A550', 'L40', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F040', 'RetribValutabileTFR', 'Retribuzione valutabile ai fini TFR', 'E300', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A405', 'CAP', 'CAP della Sede legale dell''azienda', 'A400', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A350', 'DenunciaIndividuale', 'Denuncia retributiva di ogni singolo lavoratore dipendente ai fini INPS', 'A300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A370', 'DenunciaAziendale', 'Importi delle contribuzioni e dei conguagli non rapportabili a livello individuale', 'A300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A400', 'ListaCollaboratori', 'Denunce individuali dei lavoratori parasubordinati', 'A200', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A410', 'ISTAT', 'Codice ISTAT dell''azienda', 'A400', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'C050', 'Al', 'Data di fine di attività cui si riferisce il compenso erogato', 'A450', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D005', 'CFLavoratore', 'Codice fiscale del lavoratore', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D010', 'Cognome', 'Cognome del lavoratore', 'A350', 'L30', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D015', 'Nome', 'Nome del lavoratore', 'A350', 'L20', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D095', 'RetribTeorica', 'Retribuzione teorica del mese', 'D080', null, 'S', 'P1000', null, 'N', 'SELECT NVL(SUM(IMPORTO),0) IMPORTO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND ' || chr(10) || 'P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || 'AND TO_CHAR(P442.DATA_COMPETENZA_A,''MMYYYY'') = TO_CHAR(P441.DATA_RETRIBUZIONE,''MMYYYY'')' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14200 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT NVL(SUM(IMPORTO),0) IMPORTO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND ' || chr(10) || 'P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND DATA_CEDOLINO= :DataElaborazione' || chr(10) || 'AND TO_CHAR(P442.DATA_COMPETENZA_A,''MMYYYY'') = TO_CHAR(P441.DATA_RETRIBUZIONE,''MMYYYY'')' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14200 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G055', 'DataCessazione', 'Data sospensione o cessazione della contribuzione al fondo', 'G050', 'D10', 'N', null, null, 'S', 'SELECT P430.DATA_SOSP_CESS_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione' || chr(10) || 'AND' || chr(10) || '(' || chr(10) || 'SELECT NVL(SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')),0)  FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN ADD_MONTHS(:DataElaborazione,-1) AND :DataElaborazione' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ') > 0', 'SELECT P430.DATA_SOSP_CESS_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione' || chr(10) || 'AND' || chr(10) || '(' || chr(10) || 'SELECT NVL(SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')),0)  FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN ADD_MONTHS(:DataElaborazione,-1) AND :DataElaborazione' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ') > 0', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D020', 'Qualifica1', 'Qualifica1 (qualifica assicurativa)', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H035', 'RetribTeoricaTabellareTFR', 'Retribuzione teorica tabellare TFR', 'E600', null, 'S', 'P1', null, 'S', 'SELECT SUM(IMPORTO_INTERO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN LAST_DAY(:DataInizioPeriodo) AND :DataElaborazione ' || chr(10) || 'AND TO_CHAR(DATA_COMPETENZA_DA,''YYYYMM'') = TO_CHAR(:DataInizioPeriodo,''YYYYMM'') ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14120 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO_INTERO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN LAST_DAY(:DataInizioPeriodo) AND :DataElaborazione ' || chr(10) || 'AND TO_CHAR(DATA_COMPETENZA_DA,''YYYYMM'') = TO_CHAR(:DataInizioPeriodo,''YYYYMM'') ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14120 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H100', 'TipoImpiego', 'Tipo impiego', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H105', 'TipoServizio', 'Tipo servizio', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H110', 'PercRetribuzione', 'Percentuale retribuzione', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H115', 'Contratto', 'Codice contratto', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H120', 'Qualifica', 'Codice qualifica', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H125', 'PartTimePA', 'Part-time', 'H015', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H130', 'TipoPartTime', 'Codice tipo part-time', 'H125', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H135', 'PercPartTime', 'Percentuale part-time', 'H125', null, 'S', 'P1000', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H155', 'RegimeFineServizio', 'Codice regime fine servizio', 'H015', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H160', 'PercAspettativaL300_70', 'Percentuale aspettativa sindacale L.300/1970', 'H015', null, 'S', 'P1000', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H300', 'GestPensionistica', 'Gestione pensionistica', 'H020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H360', 'Maggiorazione', 'Maggiorazioni', 'H300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H020', 'Gestioni', 'Gestioni', 'E600', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H025', 'CodiceCessazione', 'Codice cessazione o sospensione', 'E600', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G105', 'QuotaIscrizioneDL', 'Quota versata a carico del datore di lavoro per iscrizione al FPC', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11087 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11087 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F320', 'Contrib1PerCento', 'Contributo 1% a carico iscritto eccedente il tetto retributivo', 'F300', null, 'S', 'P1', null, 'S', 
        'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || 'DECODE(SIGN(ABS(NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,0, IMPORTO - NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 
        'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || 'DECODE(SIGN(ABS(NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,0, IMPORTO - NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 
        'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H510', 'ImponibileTFR', 'Imponibile TFR', 'H500', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F510'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F510'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H515', 'ContributoTFR', 'Contributo TFR', 'H500', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F515'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F515'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H525', 'ContributoTFS', 'Contributo TFS', 'H500', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F525'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F525'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F200', 'AltraAmministrazione', 'Personale in servizio presso altra amministrazione o di altra amministrazione', 'F015', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F205', 'ServizioPressoAltraAmministrazione', 'Personale in servizio presso altra amministrazione', 'F200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F800', 'TipoContributo', 'Tipo contributo', 'F060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F317', 'ImponibileEccMass', 'Imponibile pensionistico che eccede il massimale nel periodo', 'F300', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,-IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione AND LAST_DAY(DATA_COMPETENZA_A) = DATA_CEDOLINO' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''10013 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,-IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione AND LAST_DAY(DATA_COMPETENZA_A) = DATA_CEDOLINO' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''10013 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F510', 'ImponibileTFR', 'Imponibile TFR', 'F500', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * 80 / 100 DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * 80 / 100 DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F390', 'ContributoL166_91', 'Contributo di solidarietà L.166/91', 'F300', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11086 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11086 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F385', 'QuotaDatoreL166_91', 'Quota datore di lavoro per previdenza ed assistenza integrativa (L.166/91)', 'F300', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') / 100 DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11086 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') / 100 DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11086 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G085', 'ContribDL', 'Contributo calcolato e/o versato a carico del datore di lavoro', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11085 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11085 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H317', 'ImponibileEccMass', 'Imponibile pensionistico che eccede il massimale nel periodo', 'H300', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F317'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F317'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F625', 'ImponibileEccMass', 'Imponibile Gestione credito che eccede il massimale nel periodo', 'F600', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,-IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione AND LAST_DAY(DATA_COMPETENZA_A) = DATA_CEDOLINO' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''10143 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,-IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione AND LAST_DAY(DATA_COMPETENZA_A) = DATA_CEDOLINO' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''10143 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F210', 'TipologiaServizio', 'Tipologia del servizio altra amministrazione', 'F205', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F215', 'Amministrazione', 'Informazioni sull''altra amministrazione', 'F205', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F220', 'CFAzienda', 'Codice fiscale sede di servizio altra amministrazione', 'F215', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F225', 'PRGAZIENDA', 'Progressivo azienda sede di servizio altra amministrazione', 'F215', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D091', 'Contributo', 'Importo della contribuzione calcolata sull’imponibile previdenziale', 'D080', null, 'S', 'P1', null, 'S', 'SELECT NVL(SUM(PERCENTUALE),0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT NVL(MAX(P233.PERC_IMP),0) PERCENTUALE' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P232_SCAGLIONI P232, P233_SCAGLIONIFASCE P233' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || 'AND P232.COD_VOCE = P442.COD_VOCE AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || 'AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '     AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '     AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '     AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || 'AND P233.ID_SCAGLIONE = P232.ID_SCAGLIONE AND P233.IMPORTO_DA = 0' || chr(10) || 'AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(P442.COD_VOCE,6,'' '')||P442.COD_VOCE_SPECIALE IN (''11160 BASE'',''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'UNION ALL' || chr(10) || 'SELECT NVL(MAX(P200.RITENUTA_PERC),0) PERCENTUALE ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 , P200_VOCI P200' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P200.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || 'AND P200.COD_VOCE = P442.COD_VOCE AND P200.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P200.DECORRENZA AND P200.DECORRENZA_FINE' || chr(10) || 'AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(P442.COD_VOCE,6,'' '')||P442.COD_VOCE_SPECIALE IN (''11165 BASE'',''11175 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ')', 
        'SELECT NVL(SUM(PERCENTUALE),0) DATO FROM' || chr(10) || '(' || chr(10) || 'SELECT NVL(MAX(P233.PERC_IMP),0) PERCENTUALE' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P232_SCAGLIONI P232, P233_SCAGLIONIFASCE P233' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || 'AND P232.COD_VOCE = P442.COD_VOCE AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || 'AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO' || chr(10) || '     AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '     AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '     AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || 'AND P233.ID_SCAGLIONE = P232.ID_SCAGLIONE AND P233.IMPORTO_DA = 0' || chr(10) || 'AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(P442.COD_VOCE,6,'' '')||P442.COD_VOCE_SPECIALE IN (''11160 BASE'',''11170 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'UNION ALL' || chr(10) || 'SELECT NVL(MAX(P200.RITENUTA_PERC),0) PERCENTUALE ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 , P200_VOCI P200' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P200.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || 'AND P200.COD_VOCE = P442.COD_VOCE AND P200.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || 'AND P441.DATA_CEDOLINO BETWEEN P200.DECORRENZA AND P200.DECORRENZA_FINE' || chr(10) || 'AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(P442.COD_VOCE,6,'' '')||P442.COD_VOCE_SPECIALE IN (''11165 BASE'',''11175 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || ')', 'N', null, null, 'D', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H625', 'ImponibileEccMass', 'Imponibile Gestione credito che eccede il massimale nel periodo', 'H600', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F625'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F625'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F230', 'DipendenteAltraAmministrazione', 'Personale di altra amministrazione', 'F200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F235', 'TipologiaServizio', 'Tipologia del servizio di altra amministrazione', 'F230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F240', 'CFAzienda', 'Codice fiscale di altra amministrazione', 'F230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F245', 'PRGAZIENDA', 'Progressivo azienda di altra amministrazione', 'F230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H200', 'AltraAmministrazione', 'Personale in servizio presso altra amministrazione o di altra amministrazione', 'H015', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H205', 'ServizioPressoAltraAmministrazione', 'Personale in servizio presso altra amministrazione', 'H200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H210', 'TipologiaServizio', 'Tipologia del servizio altra amministrazione', 'H205', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H215', 'Amministrazione', 'Informazioni sull''altra amministrazione', 'H205', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H220', 'CFAzienda', 'Codice fiscale sede di servizio altra amministrazione', 'H215', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H225', 'PRGAZIENDA', 'Progressivo azienda sede di servizio altra amministrazione', 'H215', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H230', 'DipendenteAltraAmministrazione', 'Personale di altra amministrazione', 'H200', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H235', 'TipologiaServizio', 'Tipologia del servizio di altra amministrazione', 'H230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H240', 'CFAzienda', 'Codice fiscale di altra amministrazione', 'H230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H245', 'PRGAZIENDA', 'Progressivo azienda di altra amministrazione', 'H230', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G022', 'AnnoMeseDecorrenzaContrib', 'Decorrenza della contribuzione al fondo pensione', 'G005', 'D7', 'N', null, null, 'S', 'SELECT TO_CHAR(MIN(P254.DATA_INIZIO),''MM/YYYY'') DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P254_VOCIPROGRAMMATE P254' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P254.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND RPAD(P254.COD_VOCE,6,'' '')||P254.COD_VOCE_SPECIALE IN (''10080 BASE'')' || chr(10) || 'AND P430.DATA_DOMANDA_FPC <= :DataElaborazione' || chr(10) || 'AND LAST_DAY(P430.DATA_DOMANDA_FPC) <= LAST_DAY(P254.DATA_INIZIO)' || chr(10) || 'AND :DataElaborazione <= LAST_DAY(P254.DATA_INIZIO)' || chr(10) || '', 'SELECT TO_CHAR(MIN(P254.DATA_INIZIO),''MM/YYYY'') DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P254_VOCIPROGRAMMATE P254' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P254.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND RPAD(P254.COD_VOCE,6,'' '')||P254.COD_VOCE_SPECIALE IN (''10080 BASE'')' || chr(10) || 'AND P430.DATA_DOMANDA_FPC <= :DataElaborazione' || chr(10) || 'AND LAST_DAY(P430.DATA_DOMANDA_FPC) <= LAST_DAY(P254.DATA_INIZIO)' || chr(10) || 'AND :DataElaborazione <= LAST_DAY(P254.DATA_INIZIO)' || chr(10) || '', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F060', 'AltroEnteVersante', 'Ente versante diverso dal dichiarante', 'E300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G025', 'DataInizioPeriodo', 'Data inizio periodo', 'G005', 'D10', 'N', null, null, 'S', 'SELECT ''01/'' || TO_CHAR(:DataElaborazione,''MM/YYYY'') DATO FROM DUAL', 'SELECT ''01/'' || TO_CHAR(:DataElaborazione,''MM/YYYY'') DATO FROM DUAL', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G070', 'RetribSoggettaAContrib', 'Totale retribuzione soggetta a contributo', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G100', 'QuotaIscrizioneLav', 'Quota versata a carico dell''iscritto per iscrizione al FPC', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11082 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11082 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G060', 'CodCessazione', 'Tipo di cessazione', 'G050', null, 'N', null, null, 'S', 'SELECT P430.COD_INPDAPTIPOCESS_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione', 'SELECT P430.COD_INPDAPTIPOCESS_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G015', 'Comparto', 'Comparto di investimento', 'G005', null, 'N', null, null, 'S', 'SELECT P026.COD_INPDAP_COMPARTO DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'SELECT P026.COD_INPDAP_COMPARTO DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H060', 'EnteVersante', 'Ente versante', 'E600', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D360', 'CausaleRecMal', 'Causale del recupero dell’indennità di malattia', 'D355', null, 'N', null, null, 'S', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       P216.COD_CODICIACCORPAMENTOVOCI CAUSALERECMAL, - SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI IN (:InCodCodiciaccorpamentovoci)' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P216.COD_CODICIACCORPAMENTOVOCI' || chr(10) || 'HAVING SUM(P442.IMPORTO) > 0' || chr(10) || 'ORDER BY P216.COD_CODICIACCORPAMENTOVOCI', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       P216.COD_CODICIACCORPAMENTOVOCI CAUSALERECMAL, - SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI IN (:InCodCodiciaccorpamentovoci)' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P216.COD_CODICIACCORPAMENTOVOCI' || chr(10) || 'HAVING SUM(P442.IMPORTO) > 0' || chr(10) || 'ORDER BY P216.COD_CODICIACCORPAMENTOVOCI', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G080', 'ContribLav', 'Contributo a carico del lavoratore', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * P026.PERC_DIPENDENTE / 100) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026, P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * P026.PERC_DIPENDENTE / 100) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026, P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F380', 'RetribIndivAnzianita', 'RIA /Classi e Scatti', 'F300', null, 'S', 'P1', 'NP', 'N', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-RIA''', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-RIA''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G090', 'ContribAgg', 'Contributo aggiuntivo/alternativo a carico del lavoratore', 'G005', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(IMPORTO - TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * P026.PERC_DIPENDENTE / 100) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026, P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO - TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') * P026.PERC_DIPENDENTE / 100) DATO' || chr(10) || 'FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026, P442_CEDOLINOVOCI P442, P441_CEDOLINO P441' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE' || chr(10) || 'AND P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = P430.PROGRESSIVO' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11080 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G010', 'CodFondo', 'Fondo Pensione Complementare', 'G005', null, 'N', null, null, 'S', 'SELECT P026.COD_INPDAP_FPC DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'SELECT P026.COD_INPDAP_FPC DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z925', 'RicongiunzioneL45_90', 'Totale ricongiunzione L.45/90 (codice F24EP = 41)', 'Z845', null, 'S', 'P1', null, 'S', 'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''41'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''41'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 'N', null, '41', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G035', 'AliquotaLav', 'Aliquota contributiva a carico del lavoratore', 'G005', null, 'S', null, null, 'S', 'SELECT ROUND(P430.PERC_TOT_DIP_FPC * 1000,3) DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE', 'SELECT ROUND(P430.PERC_TOT_DIP_FPC * 1000,3) DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H800', 'TipoContributo', 'Tipo contributo', 'H060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H805', 'CFAzienda', 'Codice fiscale Amministrazione/Ente versante', 'H060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H810', 'PRGAZIENDA', 'Progressivo azienda Amministrazione/Ente versante', 'H060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H815', 'Imponibile', 'Imponibile', 'H060', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H820', 'Contributo', 'Contributo dovuto', 'H060', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H825', 'AnnoMeseErogazione', 'Anno e mese di erogazione', 'H060', 'D7', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H830', 'Aliquota', 'Aliquota', 'H060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'E500', 'F1_Ammortamento', 'Informazioni relative alle rate di piani di ammortamento', 'A550', null, 'N', null, null, 'N', 'SELECT TO_CHAR(P442.DATA_COMPETENZA_A,''MM/YYYY'') ANNOMESERIF, P254.COD_GESTASSIC_AMM CODGESTIONE, P254.COD_PIANO_AMM TIPOPIANO,' || chr(10) || '       P254.DATA_INIZIO DATAINIZIO, P254.DATA_SCADENZA_AMM DATASCADENZA,ABS(P442.IMPORTO) IMPORTO,' || chr(10) || '       DECODE(SIGN(P442.IMPORTO),1,P254.TIPO_OPER_AMM,DECODE(P254.TIPO_OPER_AMM,''V'',''R'',''V'')) TIPOOPERAZIONE' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P254_VOCIPROGRAMMATE P254 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P442.ID_VOCE_PROGRAMMATA = P254.ID_VOCE_PROGRAMMATA ' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P441.DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND P254.COD_PIANO_AMM IN (''11'',''12'',''13'',''28'',''41'')' || chr(10) || 'AND P442.TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY P254.COD_GESTASSIC_AMM, P254.COD_VOCE, P254.COD_VOCE_SPECIALE, P442.DATA_COMPETENZA_A DESC', 'SELECT TO_CHAR(P442.DATA_COMPETENZA_A,''MM/YYYY'') ANNOMESERIF, P254.COD_GESTASSIC_AMM CODGESTIONE, P254.COD_PIANO_AMM TIPOPIANO,' || chr(10) || '       P254.DATA_INIZIO DATAINIZIO, P254.DATA_SCADENZA_AMM DATASCADENZA,ABS(P442.IMPORTO) IMPORTO,' || chr(10) || '       DECODE(SIGN(P442.IMPORTO),1,P254.TIPO_OPER_AMM,DECODE(P254.TIPO_OPER_AMM,''V'',''R'',''V'')) TIPOOPERAZIONE' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P254_VOCIPROGRAMMATE P254 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND P442.ID_VOCE_PROGRAMMATA = P254.ID_VOCE_PROGRAMMATA ' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P441.DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND P254.COD_PIANO_AMM IN (''11'',''12'',''13'',''28'',''41'')' || chr(10) || 'AND P442.TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY P254.COD_GESTASSIC_AMM, P254.COD_VOCE, P254.COD_VOCE_SPECIALE, P442.DATA_COMPETENZA_A DESC', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F035', 'RetribTeoricaTabellareTFR', 'Retribuzione teorica tabellare TFR', 'E300', null, 'S', 'P1', 'NP', 'S', 'SELECT SUM(IMPORTO_INTERO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN LAST_DAY(:DataInizioPeriodo) AND :DataElaborazione ' || chr(10) || 'AND TO_CHAR(DATA_COMPETENZA_DA,''YYYYMM'') = TO_CHAR(:DataInizioPeriodo,''YYYYMM'') ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14120 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'SELECT SUM(IMPORTO_INTERO) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO BETWEEN LAST_DAY(:DataInizioPeriodo) AND :DataElaborazione ' || chr(10) || 'AND TO_CHAR(DATA_COMPETENZA_DA,''YYYYMM'') = TO_CHAR(:DataInizioPeriodo,''YYYYMM'') ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''14120 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G030', 'DataFinePeriodo', 'Data fine periodo', 'G005', 'D10', 'N', null, null, 'S', 'SELECT TO_CHAR(:DataElaborazione,''DD/MM/YYYY'') DATO FROM DUAL', 'SELECT TO_CHAR(:DataElaborazione,''DD/MM/YYYY'') DATO FROM DUAL', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G530', 'PrgRata', 'Numero rata', 'E500', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G050', 'Cessazione', 'Cessazione o sospensione della contribuzione al fondo', 'G005', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G505', 'AnnoMeseRif', 'Anno / Mese di riferimento', 'E500', 'D7', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G515', 'TipoPiano', 'Tipo piano di ammortamento', 'E500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G520', 'DataInizio', 'Data inizio piano di ammortamento', 'E500', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G525', 'DataScadenza', 'Data scadenza del piano di ammortamento', 'E500', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F515', 'ContributoTFR', 'Contributo TFR', 'F500', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11075 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F375', 'StipendioTabellare', 'Stipendio tabellare', 'F300', null, 'S', 'P1', 'NP', 'N', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-STIP''', 'SELECT NVL(SUM(P272.IMPORTO_INTERO * P216.PERCENTUALE / 100),0) DATO' || chr(10) || 'FROM T430_STORICO T430, P272_RETRIBUZIONE_CONTRATTUALE P272, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE T430.PROGRESSIVO = :Progressivo AND :DataInizioPeriodo BETWEEN T430.DATADECORRENZA AND T430.DATAFINE' || chr(10) || 'AND P272.PROGRESSIVO = T430.PROGRESSIVO' || chr(10) || 'AND LEAST(:DataInizioPeriodo, NVL(T430.FINE,TO_DATE(''31123999'',''DDMMYYYY''))) BETWEEN P272.DECORRENZA_INIZIO AND P272.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_CONTRATTO = P272.COD_CONTRATTO AND P216.COD_VOCE = P272.COD_VOCE AND P216.COD_VOCE_SPECIALE = P272.COD_VOCE_SPECIALE' || chr(10) || 'AND :DataInizioPeriodo BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI = ''DMA2-STIP''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G540', 'DataRipristino', 'Ripristino di un piano di ammortamento sospeso in precedenza', 'E500', 'D10', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z875', 'ContributoPens', 'Totale contributo pensionistico (codice F24EP = 01)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F315'',''F320'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H315'',''H320'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''1'',''5'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F315'',''F320'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H305'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H315'',''H320'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''1'',''5'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '01', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F525', 'ContributoTFS', 'Contributo TFS', 'F500', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11040 BASE'',''11040 ENTE'',''11045 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11040 BASE'',''11040 ENTE'',''11045 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G535', 'TotaleRate', 'Totale Rate', 'E500', null, 'S', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G550', 'Importo', 'Importo', 'E500', null, 'S', 'P1', 'NP', 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D092', 'ContribuzioneAggiuntiva', 'Informazioni relative alla contribuzione aggiuntiva dell’1%', 'D080', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G065', 'CodSospensione', 'Motivo di sospensione', 'G050', null, 'N', null, null, 'S', 'SELECT P430.COD_INPDAPMOTIVOSOSP_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione', 'SELECT P430.COD_INPDAPMOTIVOSOSP_FPC DATO FROM P430_ANAGRAFICO P430' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND NVL(P430.DATA_SOSP_CESS_FPC,TO_DATE(''31123999'',''DDMMYYYY'')) <= :DataElaborazione', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D420', 'ImportoTrattPens', 'Importo della trattenuta', 'D410', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, 'D', 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F310', 'Imponibile', 'Imponibile pensionistico per il periodo', 'F300', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z910', 'RiscattoTFS', 'Totale riscatto ai fini TFS (codice F24EP = 13)', 'Z845', null, 'S', 'P1', null, 'S', 'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''13'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''13'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 'N', null, '13', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G555', 'TipoOperazione', 'Tipologia operazione', 'E500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H000', 'Aliquota', 'Aliquota', 'E600', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H005', 'GiornoInizio', 'Data inizio periodo', 'E600', 'D10', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F620', 'Contributo', 'Contributo Gestione credito', 'F600', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11140 BASE'',''11140 ENTE'',''11150 BASE'',''11150 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11140 BASE'',''11140 ENTE'',''11150 BASE'',''11150 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F315', 'Contributo', 'Totale contributi pensionistici per il periodo', 'F300', null, 'S', 'P1', 'NP', 'S', 
        'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || 'DECODE(SIGN(ABS(NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,IMPORTO,' || chr(10) || '  NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'UNION ALL' || chr(10) || 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11015 BASE'',''11025 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 
        'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || 'DECODE(SIGN(ABS(NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100 - IMPORTO) - 0.031),-1,IMPORTO,' || chr(10) || '  NVL(TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.''''''),0) * ' || chr(10) || '(-- Impostazione percentuale primo scaglione CPDEL/CPS ' || chr(10) || 'SELECT P233.PERC_IMP FROM P232_SCAGLIONI P232,P233_SCAGLIONIFASCE P233 ' || chr(10) || '  WHERE P232.COD_CONTRATTO = P442.COD_CONTRATTO' || chr(10) || '  AND P232.COD_VOCE = P442.COD_VOCE' || chr(10) || '  AND P232.COD_VOCE_SPECIALE = P442.COD_VOCE_SPECIALE' || chr(10) || '  AND P232.DECORRENZA = (SELECT MAX(DECORRENZA) FROM P232_SCAGLIONI' || chr(10) || '     WHERE DECORRENZA <= P441.DATA_CEDOLINO ' || chr(10) || '       AND COD_CONTRATTO = P232.COD_CONTRATTO' || chr(10) || '       AND COD_VOCE = P232.COD_VOCE ' || chr(10) || '       AND COD_VOCE_SPECIALE = P232.COD_VOCE_SPECIALE)' || chr(10) || '  AND P232.ID_SCAGLIONE = P233.ID_SCAGLIONE' || chr(10) || '  AND P233.IMPORTO_DA = 0' || chr(10) || ')' || chr(10) || '/ 100) DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11010 BASE'',''11010 ENTE'',''11020 BASE'',''11020 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'UNION ALL' || chr(10) || 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11015 BASE'',''11025 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 
        'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H010', 'GiornoFine', 'Data fine periodo', 'E600', 'D10', 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H015', 'InquadramentoLavPA', 'Inquadramento', 'E600', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z515', 'TotaleACredito', 'Importo totale dei conguagli presenti nelle denunce individuali nonche'' nella denuncia aziendale', 'Z500', null, 'S', 'P1000', null, 'N', 'SELECT NVL(SUM(TO_NUMBER(NVL(P673.VALORE,0))),0) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672, P670_XMLREGOLE P670' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P670.NOME_FLUSSO = P672.NOME_FLUSSO AND P670.NUMERO = P673.NUMERO' || chr(10) || 'AND P672.DATA_FINE_PERIODO BETWEEN P670.DECORRENZA AND P670.DECORRENZA_FINE ' || chr(10) || 'AND P670.TIPO_IMPORTO = ''C'' AND P673.TIPO_RECORD = ''M''', 'SELECT NVL(SUM(TO_NUMBER(NVL(P673.VALORE,0))),0) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672, P670_XMLREGOLE P670' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P670.NOME_FLUSSO = P672.NOME_FLUSSO AND P670.NUMERO = P673.NUMERO' || chr(10) || 'AND P672.DATA_FINE_PERIODO BETWEEN P670.DECORRENZA AND P670.DECORRENZA_FINE ' || chr(10) || 'AND P670.TIPO_IMPORTO = ''C'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F805', 'CFAzienda', 'Codice fiscale Amministrazione/Ente versante', 'F060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F810', 'PRGAZIENDA', 'Progressivo azienda Amministrazione/Ente versante', 'F060', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F820', 'Contributo', 'Contributo dovuto', 'F060', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F700', 'ENPDEP', 'Gestione ENPDEP', 'F020', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F605', 'CodGestione', 'Codice gestione credito', 'F600', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'Z015', 'NumLavoratori', 'Numero dipendenti occupati', 'A370', null, 'S', null, null, 'N', 'SELECT COUNT(DISTINCT P673.PROGRESSIVO) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '(SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A ' || chr(10) || 'WHERE P673A.ID_FLUSSO=P673.ID_FLUSSO AND P673A.PROGRESSIVO=P673.PROGRESSIVO ' || chr(10) || 'AND P673A.PROGRESSIVO_NUMERO=P673.PROGRESSIVO_NUMERO AND P673A.TIPO_RECORD=P673.TIPO_RECORD' || chr(10) || 'AND P673A.NUMERO=''D020'' AND P673A.VALORE=''Z'')', 'SELECT COUNT(DISTINCT P673.PROGRESSIVO) DATO FROM P673_XMLDATIINDIVIDUALI P673' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P673.NUMERO=''A350'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '(SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A ' || chr(10) || 'WHERE P673A.ID_FLUSSO=P673.ID_FLUSSO AND P673A.PROGRESSIVO=P673.PROGRESSIVO ' || chr(10) || 'AND P673A.PROGRESSIVO_NUMERO=P673.PROGRESSIVO_NUMERO AND P673A.TIPO_RECORD=P673.TIPO_RECORD' || chr(10) || 'AND P673A.NUMERO=''D020'' AND P673A.VALORE=''Z'')', 'N', null, null, null, 'S1', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z915', 'RiscattoTFR', 'Totale riscatto ai fini TFS (codice F24EP = 28)', 'Z845', null, 'S', 'P1', null, 'S', 'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''28'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''28'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 'N', null, '28', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G045', 'PercTFR', 'TFR in percentuale sulla retribuzione, destinata al fondo', 'G005', null, 'S', null, null, 'S', 'SELECT ROUND(P026.PERC_TFR_FPC * 1000,3) DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'SELECT ROUND(P026.PERC_TFR_FPC * 1000,3) DATO FROM P430_ANAGRAFICO P430, P026_FONDIPREVCOMPL P026' || chr(10) || 'WHERE P430.PROGRESSIVO = :Progressivo AND :DataElaborazione BETWEEN P430.DECORRENZA AND P430.DECORRENZA_FINE' || chr(10) || 'AND P026.COD_FPC = P430.COD_FPC AND :DataElaborazione BETWEEN P026.DECORRENZA AND P026.DECORRENZA_FINE', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F020', 'Gestioni', 'Gestioni', 'E300', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F710', 'Imponibile', 'Imponibile Gestione ENPDEP', 'F700', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11190 BASE'',''11190 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''') DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11190 BASE'',''11190 ENTE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F705', 'CodGestione', 'Codice gestione ENPDEP', 'F700', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G005', 'DatiPosContribIscritto', 'Dati relativi alla posizione contributiva degli iscritti ai fondi pensione complementare', 'E400', null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'G510', 'CodGestione', 'Gestione assicurativa', 'E500', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H520', 'ImponibileTFS', 'Imponibile TFS', 'H500', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F520'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F520'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z810', 'Gestione', 'Codice gestione', 'A555', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'S3', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z815', 'TipologiaDovuto', 'Tipologia del dovuto', 'A555', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'S3', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z820', 'ImportoDovuto', 'Importo dovuto', 'A555', null, 'S', 'P1', null, 'S', null, null, 'N', null, null, null, 'S3', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z870', 'Gestione', 'Codice gestione', 'Z845', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A000', 'DenunceMensili', 'Flusso UNIEMENS', null, null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z920', 'RicongiunzioneL29_79', 'Totale ricongiunzione L.29/79 (codice F24EP = 12)', 'Z845', null, 'S', 'P1', null, 'S', 'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''12'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''F1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G510'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) GESTIONE,' || chr(10) || 'DECODE((SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G555'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD),' || chr(10) || ' ''V'', P673.VALORE, -P673.VALORE) IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G550'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G515'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND VALORE = ''12'')' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''E500'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE ' || chr(10) || 'ORDER BY GESTIONE', 'N', null, '12', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z945', 'ContributoFPC', 'Totale contributo Fondo Pensione Complementare', 'Z850', null, 'S', 'P1', null, 'S', 'SELECT CODFONDO, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''E1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G010'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) CODFONDO,' || chr(10) || 'P673.VALORE IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G080'',''G085'',''G090'',''G100'',''G105'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G005'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY CODFONDO ' || chr(10) || 'ORDER BY CODFONDO', 
        'SELECT CODFONDO, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || 'SELECT ''E1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '(SELECT VALORE ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G010'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD) CODFONDO,' || chr(10) || 'P673.VALORE IMPORTO' || chr(10) || ' FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P673.ID_FLUSSO = :Id_Flusso AND P672.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || 'AND P673.NUMERO IN (''G080'',''G085'',''G090'',''G100'',''G105'')' || chr(10) || 'AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '(SELECT ''X'' ' || chr(10) || '   FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '  WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '    AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '    AND NUMERO = ''G005'' ' || chr(10) || '    AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '    AND TIPO_RECORD = P673.TIPO_RECORD' || chr(10) || '    AND ATTRIBUTO IS NULL)' || chr(10) || ')' || chr(10) || 'GROUP BY CODFONDO ' || chr(10) || 'ORDER BY CODFONDO', 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D335', 'CausaleVersMal', 'Causale della contribuzione di malattia o della restituzione della relativa indennità', 'D330', null, 'N', null, null, 'S', 'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       DECODE(P216.COD_CODICIACCORPAMENTOVOCI,''S110'',''E791'',''S112'',''E790'') CAUSALEVERSMAL,' || chr(10) || '       SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI IN (:InCodCodiciaccorpamentovoci)' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P216.COD_CODICIACCORPAMENTOVOCI' || chr(10) || 'HAVING SUM(P442.IMPORTO) < 0' || chr(10) || 'ORDER BY DECODE(P216.COD_CODICIACCORPAMENTOVOCI,''S110'',''E791'',''S112'',''E790'')', 
        'SELECT ''Z'' QUALIFICA1, ''00'' TIPOCONTRIBUZIONE,' || chr(10) || '       DECODE(P216.COD_CODICIACCORPAMENTOVOCI,''S110'',''E791'',''S112'',''E790'') CAUSALEVERSMAL,' || chr(10) || '       SUM(P442.IMPORTO * P216.PERCENTUALE / 100) IMPORTO ' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441, P216_ACCORPAMENTOVOCI P216' || chr(10) || 'WHERE P441.PROGRESSIVO = :Progressivo AND P442.ID_CEDOLINO = P441.ID_CEDOLINO' || chr(10) || 'AND P441.CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.DATA_CEDOLINO = :DataElaborazione' || chr(10) || 'AND P442.COD_CONTRATTO = P216.COD_CONTRATTO AND P442.COD_VOCE = P216.COD_VOCE AND P442.COD_VOCE_SPECIALE = P216.COD_VOCE_SPECIALE' || chr(10) || 'AND P442.DATA_COMPETENZA_A BETWEEN P216.DECORRENZA AND P216.DECORRENZA_FINE' || chr(10) || 'AND P216.COD_TIPOACCORPAMENTOVOCI = ''UNIEM'' AND P216.COD_CODICIACCORPAMENTOVOCI IN (:InCodCodiciaccorpamentovoci)' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'GROUP BY P216.COD_CODICIACCORPAMENTOVOCI' || chr(10) || 'HAVING SUM(P442.IMPORTO) < 0' || chr(10) || 'ORDER BY DECODE(P216.COD_CODICIACCORPAMENTOVOCI,''S110'',''E791'',''S112'',''E790'')', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z840', 'ImportiDovuti_Z2_Z3', 'Importi derivanti da imponibili dichiarati in D0_DenunciaIndividuale (non inseriti nel flusso)', null, null, 'N', null, null, 'N', null, null, 'N', null, null, null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A200', 'Azienda', 'Dettaglio del flusso', 'A000', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'D048', 'PercPartTimeMese', 'Percentuale di part-time lavorata nel mese', 'A350', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F520', 'ImponibileTFS', 'Imponibile TFS', 'F500', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || '       DECODE(COD_VOCE,''14130'',IMPORTO,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) * 80 / 100 DATO' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11040 BASE'',''11040 ENTE'',''14130 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,' || chr(10) || '       DECODE(COD_VOCE,''14130'',IMPORTO,TO_NUMBER(DATOBASE,''9G999G999G999D99999'',''nls_numeric_characters='''',.'''''')) * 80 / 100 DATO' || chr(10) || 'FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11040 BASE'',''11040 ENTE'',''14130 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'H715', 'Contributo', 'Contributo Gestione ENPDEP', 'H700', null, 'S', 'P1', null, 'S', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F715'' AND P673.TIPO_RECORD = ''M''', 'SELECT SUM(P673.VALORE) DATO FROM P673_XMLDATIINDIVIDUALI P673, P672_XMLTESTATE P672' || chr(10) || 'WHERE P672.NOME_FLUSSO = ''UNIEMENS'' AND P672.DATA_FINE_PERIODO = :DataMesePrecedente' || chr(10) || 'AND P672.ID_FLUSSO = P673.ID_FLUSSO AND P673.PROGRESSIVO = :Progressivo' || chr(10) || 'AND P673.NUMERO = ''F715'' AND P673.TIPO_RECORD = ''M''', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'F715', 'Contributo', 'Contributo Gestione ENPDEP', 'F700', null, 'S', 'P1', 'NP', 'S', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11190 BASE'',''11190 ENTE'',''11195 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'SELECT DATA_COMPETENZA_DA,DATA_COMPETENZA_A,IMPORTO DATO FROM P442_CEDOLINOVOCI P442, P441_CEDOLINO P441 ' || chr(10) || 'WHERE P442.ID_CEDOLINO = P441.ID_CEDOLINO AND CHIUSO IN (:StatoCedolini) AND P441.TIPO_CEDOLINO <> ''RP'' AND P441.PROGRESSIVO = :Progressivo' || chr(10) || 'AND DATA_CEDOLINO = :DataElaborazione ' || chr(10) || 'AND RPAD(COD_VOCE,6,'' '')||COD_VOCE_SPECIALE IN (''11190 BASE'',''11190 ENTE'',''11195 BASE'')' || chr(10) || 'AND TIPO_RECORD = ''M''' || chr(10) || 'ORDER BY DATA_COMPETENZA_DA', 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A125', 'SedeINPS', 'Codice sede INPS, destinataria del flusso, che curerà i rapporti con il mittente', 'A100', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A205', 'AnnoMeseDenuncia', 'Anno e mese della denuncia', 'A200', 'D7', 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-04-2010', 'dd-mm-yyyy'), 'A210', 'CFAzienda', 'Codice fiscale dell''azienda', 'A200', null, 'N', null, null, 'S', null, null, 'N', null, null, null, 'N', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z895', 'ContributoCredito', 'Totale contributo gestione credito (codice F24EP = 09)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F605'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F620'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H605'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H620'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''9'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F605'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F620'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H605'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H620'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''9'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '09', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));
insert into P670_XMLREGOLE (nome_flusso, decorrenza, numero, elemento, descrizione, numero_padre, formato_file, numerico, cod_arrotondamento, formato, ometti_vuoto, regola_calcolo_automatica, regola_calcolo_manuale, regola_modificabile, commento, attributo, tipo_importo, dato_riepilogativo, decorrenza_fine)
values ('UNIEMENS', to_date('01-10-2012', 'dd-mm-yyyy'), 'Z900', 'ContributoENPDEP', 'Totale contributo gestione ENPDEP (codice F24EP = 10)', 'Z845', null, 'S', 'P1', null, 'S', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F705'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F715'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H705'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H715'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''10'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'SELECT GESTIONE, SUM(IMPORTO) IMPORTO FROM' || chr(10) || '(' || chr(10) || '-- Inizio query su E0 senza altri enti versanti' || chr(10) || 'SELECT ''E0'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''F705'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''F715'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND NOT EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''F060''' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '  )' || chr(10) || '-- Fine query su E0 senza altri enti versanti' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query su V1 causale 1 o 7' || chr(10) || 'SELECT ''V1'' PARTE, P673.PROGRESSIVO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H705'' AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') GESTIONE,' || chr(10) || 'TO_NUMBER(P673.VALORE) IMPORTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO IN (''H715'') AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || '-- Fine query su V1 causale 1 o 7' || chr(10) || 'UNION ALL' || chr(10) || '-- Inizio query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || 'SELECT ''V1'' PARTE, ENTEV.PROGRESSIVO, P673Z.VALORE GESTIONE, -TO_NUMBER(ENTEV.CONTRIBUTO) IMPORTO FROM' || chr(10) || '-- Inizio subquery altri enti versanti su V1' || chr(10) || '(' || chr(10) || 'SELECT P673.ID_FLUSSO, P673.PROGRESSIVO, P673.NUMERO, P673.PROGRESSIVO_NUMERO_PADRE,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H800'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') TIPOCONTRIBUTO,' || chr(10) || '  (SELECT VALORE FROM P673_XMLDATIINDIVIDUALI ' || chr(10) || '   WHERE ID_FLUSSO = P673.ID_FLUSSO AND PROGRESSIVO = P673.PROGRESSIVO' || chr(10) || '   AND NUMERO = ''H820'' AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO ' || chr(10) || '   AND TIPO_RECORD = ''M'') CONTRIBUTO' || chr(10) || 'FROM P673_XMLDATIINDIVIDUALI P673 WHERE P673.ID_FLUSSO = :Id_Flusso' || chr(10) || 'AND P673.NUMERO = ''H060'' AND P673.TIPO_RECORD = ''M''' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI WHERE ID_FLUSSO = P673.ID_FLUSSO ' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''E600'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO = P673.PROGRESSIVO_NUMERO_PADRE AND TIPO_RECORD = ''M''' || chr(10) || '   AND SUBSTR(UPPER(ATTRIBUTO),1,19) IN (''CAUSALEVARIAZIONE=1'',''CAUSALEVARIAZIONE=7'')' || chr(10) || '  )' || chr(10) || 'AND EXISTS' || chr(10) || '  (SELECT ''X'' FROM P673_XMLDATIINDIVIDUALI P673A, P672_XMLTESTATE P672, P500_CUDSETUP P500 ' || chr(10) || '   WHERE P673A.ID_FLUSSO = P673.ID_FLUSSO' || chr(10) || '   AND PROGRESSIVO = P673.PROGRESSIVO AND NUMERO = ''H805'' ' || chr(10) || '   AND PROGRESSIVO_NUMERO_PADRE = P673.PROGRESSIVO_NUMERO AND TIPO_RECORD = ''M''' || chr(10) || '   AND P672.ID_FLUSSO = P673A.ID_FLUSSO AND P500.ANNO = TO_NUMBER(TO_CHAR(P672.DATA_FINE_PERIODO,''YYYY''))' || chr(10) || '   AND TRIM(VALORE) <> TRIM(P500.COD_FISCALE)' || chr(10) || '  )   ' || chr(10) || ') ENTEV, P673_XMLDATIINDIVIDUALI P673Z' || chr(10) || '-- Fine subquery altri enti versanti su V1' || chr(10) || 'WHERE P673Z.ID_FLUSSO = ENTEV.ID_FLUSSO' || chr(10) || '  AND P673Z.PROGRESSIVO = ENTEV.PROGRESSIVO' || chr(10) || '  AND P673Z.NUMERO = DECODE(ENTEV.TIPOCONTRIBUTO,''1'',''H305'',''5'',''H305'',''6'',''H305'',''7'',''H505'',' || chr(10) || '                                                 ''8'',''H505'',''9'',''H605'',''10'',''H705'') ' || chr(10) || '  AND P673Z.PROGRESSIVO_NUMERO = ENTEV.PROGRESSIVO_NUMERO_PADRE ' || chr(10) || '  AND P673Z.TIPO_RECORD = ''M''' || chr(10) || '  AND ENTEV.TIPOCONTRIBUTO IN (''10'')' || chr(10) || '-- Fine query altri enti versanti su V1 causale 1 o 7 con importi da detrarre' || chr(10) || ')' || chr(10) || 'GROUP BY GESTIONE' || chr(10) || 'ORDER BY GESTIONE', 
        'N', null, '10', null, 'S2', to_date('31-12-3999', 'dd-mm-yyyy'));

  end if;
end;
/

---
--- FINE NUOVO P670 - UNIEMENS
---

-- *********************************************************************************
-- IMPOSTAZIONE MASSIMALE PER I PARASUBORDINATI
-- ****************  2014 (FATTO SU SQL PATCH) ****************
-- *********************************************************************************

declare 
  AnnoNuovo integer;
  CodVoce varchar2(5);
  CodVoceSpeciale varchar2(5);
  Massimale real;

  CURSOR C1 IS  
  SELECT '11110' AS COD_VOCE, 'BASE' AS COD_VOCE_SPECIALE FROM DUAL UNION
  SELECT '11115', 'BASE' FROM DUAL UNION
  SELECT '11120', 'BASE' FROM DUAL UNION
  SELECT '11125', 'BASE' FROM DUAL UNION
  SELECT '11130', 'BASE' FROM DUAL UNION
  SELECT '11135', 'BASE' FROM DUAL;  

begin
  -- IMPOSTARE QUI IL NUOVO ANNO DA GESTIRE
  AnnoNuovo:=2014;
  -- IMPOSTARE QUI IL NUOVO MASSIMALE
  Massimale:=100123;

  FOR T1 IN C1 LOOP
    CodVoce:=T1.COD_VOCE;
    CodVoceSpeciale:=T1.COD_VOCE_SPECIALE;
    
    UPDATE P233_SCAGLIONIFASCE P233 SET IMPORTO_A=Massimale WHERE P233.IMPORTO_DA=0
      AND P233.ID_SCAGLIONE=
      (SELECT P232.ID_SCAGLIONE FROM P232_SCAGLIONI P232 WHERE P232.COD_CONTRATTO='EDP' AND P232.COD_VOCE=CodVoce AND P232.COD_VOCE_SPECIALE=CodVoceSpeciale AND P232.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'));

    UPDATE P233_SCAGLIONIFASCE P233 SET IMPORTO_DA=Massimale+0.01 WHERE P233.IMPORTO_A=0
      AND P233.ID_SCAGLIONE=
      (SELECT P232.ID_SCAGLIONE FROM P232_SCAGLIONI P232 WHERE P232.COD_CONTRATTO='EDP' AND P232.COD_VOCE=CodVoce AND P232.COD_VOCE_SPECIALE=CodVoceSpeciale AND P232.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'));
  END LOOP;
 
end;
/
 
-- *********************************************************************************
-- IMPOSTAZIONE NUOVO SCAGLIONE PER CPDEL, CPS, ENPAM EX CONVENZIONATI, OPTANTI INPS
-- E PERSONALE RELIGIOSO INPS
-- ****************  2014 (FATTO SU SQL PATCH) ****************
-- *********************************************************************************

declare 
  AnnoNuovo integer;
  CodVoce varchar2(5);
  CodVoceSpeciale varchar2(5);
  Scaglione real;

  CURSOR C1 IS  
  SELECT '11010' AS COD_VOCE, 'BASE' AS COD_VOCE_SPECIALE FROM DUAL UNION
  SELECT '11010', 'ENTE' FROM DUAL UNION
  SELECT '11020', 'BASE' FROM DUAL UNION
  SELECT '11020', 'ENTE' FROM DUAL UNION
  SELECT '11160', 'BASE' FROM DUAL UNION
  SELECT '11170', 'BASE' FROM DUAL UNION
  SELECT '11410', 'BASE' FROM DUAL;
begin
  -- IMPOSTARE QUI IL NUOVO ANNO DA GESTIRE
  AnnoNuovo:=2014;
  -- IMPOSTARE QUI IL NUOVO SCAGLIONE PER CPDEL, CPS, ENPAM EX CONVENZIONATI E OPTANTI INPS
  Scaglione:=46031;

  FOR T1 IN C1 LOOP
    CodVoce:=T1.COD_VOCE;
    CodVoceSpeciale:=T1.COD_VOCE_SPECIALE;
    
    UPDATE P233_SCAGLIONIFASCE P233 SET IMPORTO_A=Scaglione WHERE P233.IMPORTO_DA=0
      AND P233.ID_SCAGLIONE=
      (SELECT P232.ID_SCAGLIONE FROM P232_SCAGLIONI P232 WHERE P232.COD_CONTRATTO='EDP' AND P232.COD_VOCE=CodVoce AND P232.COD_VOCE_SPECIALE=CodVoceSpeciale AND P232.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'));

    UPDATE P233_SCAGLIONIFASCE P233 SET IMPORTO_DA=Scaglione+0.01 WHERE P233.IMPORTO_A=0
      AND P233.ID_SCAGLIONE=
      (SELECT P232.ID_SCAGLIONE FROM P232_SCAGLIONI P232 WHERE P232.COD_CONTRATTO='EDP' AND P232.COD_VOCE=CodVoce AND P232.COD_VOCE_SPECIALE=CodVoceSpeciale AND P232.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'));
  END LOOP;
 
end;
/ 

-- *********************************************************************************
-- IMPOSTAZIONE MASSIMALE NUOVI ISCRITTI E DIRETTORI PER CPDEL, CPS, FONDO CREDITO
-- ****************  2014 (FATTO SU SQL PATCH) ****************
-- *********************************************************************************

declare 
  AnnoNuovo integer;
  MassimaleIsc real;
  MassimaleDir real;

  CURSOR C1 IS  
  SELECT '11010' AS COD_VOCE, 'BASE' AS COD_VOCE_SPECIALE FROM DUAL UNION
  SELECT '11010', 'ENTE' FROM DUAL UNION
  SELECT '11020', 'BASE' FROM DUAL UNION
  SELECT '11020', 'ENTE' FROM DUAL UNION
  SELECT '11140', 'BASE' FROM DUAL UNION
  SELECT '11140', 'ENTE' FROM DUAL UNION
  SELECT '11150', 'BASE' FROM DUAL UNION
  SELECT '11150', 'ENTE' FROM DUAL;
begin
  -- IMPOSTARE QUI IL NUOVO ANNO DA GESTIRE
  AnnoNuovo:=2014;
  -- IMPOSTARE QUI I NUOVI MASSIMALI NUOVI ISCRITTI E DIRETTORI
  MassimaleIsc:=100123;
  MassimaleDir:=182509;

  FOR T1 IN C1 LOOP
    
    UPDATE P232_SCAGLIONI P232 SET MASSIMALE1=MassimaleIsc, MASSIMALE2=MassimaleDir WHERE P232.COD_CONTRATTO='EDP' AND P232.COD_VOCE=T1.COD_VOCE AND P232.COD_VOCE_SPECIALE=T1.COD_VOCE_SPECIALE AND P232.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY');

  END LOOP;
 
end;
/

-- *********************************************************************************
-- IMPOSTAZIONE MASSIMALE INDENNITA ART.42 COMMA 5 DLGS 151/2001
-- ****************  2014 (FATTO SU SQL PATCH) ****************
-- *********************************************************************************

declare 
  i integer;
  ID_P200 integer;
  AnnoNuovo integer;
  MassimaleAnnuoIndArt42 real;
  MassimaleGiornIndArt42 real;

begin
  -- IMPOSTARE QUI IL NUOVO ANNO DA GESTIRE
  AnnoNuovo:=2014;
  -- IMPOSTARE QUI IL NUOVO MASSIMALE INDENNITA ART.42 COMMA 5 DLGS 151/2001
  MassimaleAnnuoIndArt42:=47351;

select COUNT(*) into i from P200_VOCI T
WHERE T.COD_CONTRATTO='EDP' AND T.COD_VOCE='00400' AND T.COD_VOCE_SPECIALE='BASE'
and t.descrizione like '%42%'
AND T.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo-1),'DDMMYYYY') AND NOT EXISTS
(select 'X' from P200_VOCI V
WHERE V.COD_CONTRATTO='EDP' AND V.COD_VOCE='00400' AND V.COD_VOCE_SPECIALE='BASE'
AND V.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'));

if i > 0 then

  MassimaleGiornIndArt42:=ROUND(MassimaleAnnuoIndArt42/1.238/12/30,5);

  SELECT P200_ID_VOCE.NEXTVAL INTO ID_P200 FROM DUAL;
    
  insert into p200_voci
  select cod_contratto, cod_voce, cod_voce_speciale, TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY'), ID_P200, descrizione, cod_voce_stampa, descrizione_stampa, protetta, tipo, rid_mese_ass_cess, cassa_competenza, voce_importo, importo_automatico, importo_automatico_tipo, importo, importo_colonna, voce_quantita, cod_misuraquantita, ritenuta_massimali_scaglioni, ritenuta_perc, imponibile_minimali, cod_arrotondamento, perc_matura13a, mostra_video, confronto_mensile, stampa_cedolino, stampa_competenza, stampa_competenza_quote, cod_causaleirpef, ridotta_parttime_vert, ridotta_parttime_orizz, no_cedolino_normale, forza_ggcalcolo_quote, abbatte_ggminimali, abbatte_ggdetraz_caricofam, abbatte_ggdetraz_lavdip, abbatte_gganf, cumulo_annuale_cedolone, cod_raggruppamento, perc_abbatte13a, note, cumulo_in_calcolo, cod_voce_link_assog, cod_voce_speciale_link_assog, divisore_quote, abbatte_gginp, abbatte_ggina, programmata, oneri_detrazioni, eccezioni_sensibili, cod_raggruppamento_assogg, retribuzione_contrattuale,ritenuta_anagrafica,decorrenza_fine,cod_beneficiario,MassimaleGiornIndArt42 from p200_voci t
  WHERE T.COD_CONTRATTO='EDP' AND T.COD_VOCE='00400' AND T.COD_VOCE_SPECIALE='BASE'
  AND T.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo-1),'DDMMYYYY');

  UPDATE p200_voci t SET T.DECORRENZA_FINE=TO_DATE('0101'||TO_CHAR(AnnoNuovo),'DDMMYYYY')-1
  WHERE T.COD_CONTRATTO='EDP' AND T.COD_VOCE='00400' AND T.COD_VOCE_SPECIALE='BASE'
  AND T.DECORRENZA=TO_DATE('0101'||TO_CHAR(AnnoNuovo-1),'DDMMYYYY');

  update T002_QUERYPERSONALIZZATE  
  set RIGA = '"31/01/'||TO_CHAR(AnnoNuovo)||'","'||TO_CHAR(MassimaleAnnuoIndArt42)||'",*'
  WHERE NOME IN ('PA_Ind_Art_42_Con_Tred','PA_Ind_Art_42_Senza_Tred')
  and POSIZ = -1;
 
end if;
end;
/

