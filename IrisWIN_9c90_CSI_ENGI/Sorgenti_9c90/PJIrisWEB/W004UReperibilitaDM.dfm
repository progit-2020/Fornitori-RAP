object W004FReperibilitaDM: TW004FReperibilitaDM
  OldCreateOrder = False
  OnCreate = DataModuleCreate
  Height = 131
  Width = 772
  object cdsListaTimb: TClientDataSet
    Aggregates = <>
    FieldDefs = <>
    IndexDefs = <>
    Params = <>
    StoreDefs = True
    Left = 576
    Top = 8
  end
  object cdsLista: TClientDataSet
    Aggregates = <>
    FieldDefs = <>
    IndexDefs = <>
    Params = <>
    StoreDefs = True
    Left = 384
    Top = 8
  end
  object cdsListaPag: TClientDataSet
    Aggregates = <>
    Params = <>
    Left = 440
    Top = 8
  end
  object selT040: TOracleDataSet
    SQL.Strings = (
      
        'SELECT PROGRESSIVO, DATA, CAUSALE, TIPOGIUST, TO_CHAR(DAORE,'#39'HH2' +
        '4.MI'#39') DAORE, TO_CHAR(AORE,'#39'HH24.MI'#39') AORE, ID_RICHIESTA'
      'FROM T040_GIUSTIFICATIVI T040'
      'WHERE PROGRESSIVO :filtro_dip'
      'AND DATA BETWEEN :DAL AND :AL'
      
        'AND (   EXISTS (SELECT 1 FROM T265_CAUASSENZE T265 WHERE T265.CO' +
        'DICE = T040.CAUSALE)'
      '     OR (    :PRESENZE = '#39'S'#39' '
      
        '         AND EXISTS (SELECT 1 FROM T275_CAUPRESENZE T275 WHERE T' +
        '275.CODICE = T040.CAUSALE)))'
      
        'AND exists (select '#39'X'#39' from dual where T050F_CANCELLATA(T040.ID_' +
        'RICHIESTA,T040.DATA) = '#39'N'#39')'
      
        'ORDER BY PROGRESSIVO, DATA, DECODE(TIPOGIUST,'#39'I'#39',1,'#39'M'#39',2,'#39'N'#39',3,'#39 +
        'D'#39',4), DAORE, AORE, CAUSALE')
    ReadBuffer = 33
    Optimize = False
    Variables.Data = {
      0400000004000000080000003A00440041004C000C0000000000000000000000
      060000003A0041004C000C0000000000000000000000160000003A0046004900
      4C00540052004F005F0044004900500001000000000000000000000012000000
      3A00500052004500530045004E005A004500050000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      050000000B00000016000000500052004F004700520045005300530049005600
      4F000100000000000800000044004100540041000100000000000E0000004300
      41005500530041004C00450001000000000018000000500052004F0047005200
      430041005500530041004C004500010000000000120000005400490050004F00
      470049005500530054000100000000000A000000440041004F00520045000100
      000000000800000041004F00520045000100000000000C000000530043004800
      4500440041000100000000000C0000005300540041004D005000410001000000
      00000E00000044004100540041004E0041005300010000000000160000004400
      450053004300520049005A0049004F004E004500010000000000}
    Left = 224
    Top = 8
  end
  object selT100: TOracleDataSet
    SQL.Strings = (
      
        'SELECT T100.PROGRESSIVO,T100.DATA,sum(decode(T270.CODINTERNO,'#39'C'#39 +
        ',1,0)) N_TIMB_REP,COUNT(*) N_TIMB'
      'FROM T100_TIMBRATURE T100,'
      '     T275_CAUPRESENZE T275,'
      '     T270_RAGGRPRESENZE T270,'
      '    (SELECT PROGRESSIVO,DATA,COUNT(PROGRESSIVO) N_TIMB'
      '    FROM T100_TIMBRATURE '
      '    WHERE PROGRESSIVO :filtro_dip  '
      '    AND DATA BETWEEN :DAL AND :AL '
      '    AND FLAG IN ('#39'O'#39','#39'I'#39')'
      '    GROUP BY PROGRESSIVO,DATA) A'
      'WHERE T100.PROGRESSIVO = A.PROGRESSIVO'
      'AND T100.DATA = A.DATA'
      'AND T100.FLAG IN ('#39'O'#39','#39'I'#39')'
      'AND T100.CAUSALE = T275.CODICE(+)'
      'AND T275.CODRAGGR = T270.CODICE(+)'
      'AND (A.N_TIMB > 1 '
      '     OR T100.VERSO = '#39'E'#39
      '     OR NOT EXISTS (SELECT 1 FROM T100_TIMBRATURE B'
      '                    WHERE B.PROGRESSIVO = T100.PROGRESSIVO'
      '                    AND B.DATA = T100.DATA - 1'
      '                    AND B.FLAG IN ('#39'O'#39','#39'I'#39')'
      '                    AND B.ORA = (SELECT MAX(ORA)'
      '                                 FROM T100_TIMBRATURE C'
      
        '                                 WHERE C.PROGRESSIVO = B.PROGRES' +
        'SIVO'
      '                                 AND C.DATA = B.DATA'
      '                                 AND C.FLAG IN ('#39'O'#39','#39'I'#39'))'
      '                    AND B.VERSO = '#39'E'#39'))'
      'GROUP BY T100.PROGRESSIVO,T100.DATA'
      'ORDER BY T100.PROGRESSIVO,T100.DATA')
    ReadBuffer = 100
    Optimize = False
    Variables.Data = {
      0400000003000000080000003A00440041004C000C0000000000000000000000
      060000003A0041004C000C0000000000000000000000160000003A0046004900
      4C00540052004F005F00440049005000010000000000000000000000}
    Left = 272
    Top = 8
  end
  object T010F_GGLAVORATIVO: TOracleQuery
    SQL.Strings = (
      'BEGIN'
      '  :LAVORATIVO:=T010F_GGLAVORATIVO(:PROGRESSIVO,:DATA);'
      'END;')
    ReadBuffer = 1
    Optimize = False
    Variables.Data = {
      0400000003000000180000003A00500052004F00470052004500530053004900
      56004F000300000000000000000000000A0000003A0044004100540041000C00
      00000000000000000000160000003A004C00410056004F005200410054004900
      56004F00050000000000000000000000}
    Left = 680
    Top = 8
  end
  object cdsListaTurni: TClientDataSet
    Aggregates = <>
    FieldDefs = <>
    IndexDefs = <>
    Params = <>
    StoreDefs = True
    Left = 504
    Top = 8
  end
  object selT380: TOracleDataSet
    SQL.Strings = (
      
        'SELECT T380.ROWID, T380.PROGRESSIVO, MATRICOLA, T030.COGNOME || ' +
        #39' '#39' || T030.NOME T030NOMINATIVO, :DL'
      
        '       T430BADGE, :COLONNA T380.DATA, substr(to_char(T380.DATA,'#39 +
        'day'#39'),1,3) DATA_GIORNO,'
      '       T380.TURNO1, null C_TURNO1, T380.PRIORITA1, '
      '       T380.TURNO2, null C_TURNO2, T380.PRIORITA2, '
      '       T380.TURNO3, null C_TURNO3, T380.PRIORITA3, '
      '       T380.DATOLIBERO, T380.TIPOLOGIA,'
      '       null D_SCHEDAANAG, null D_INFO'
      'FROM   T380_PIANIFREPERIB T380, '
      '       :QVISTAORACLE'
      'AND    T380.PROGRESSIVO = T030.PROGRESSIVO '
      'AND    T380.DATA BETWEEN :DAL AND :DATALAVORO '
      'AND    T380.TIPOLOGIA = :TIPOLOGIA'
      ':FILTRO'
      'ORDER BY :ORDINE ')
    ReadBuffer = 200
    Optimize = False
    Variables.Data = {
      0400000008000000080000003A00440041004C000C0000000000000000000000
      100000003A0043004F004C004F004E004E004100010000000000000000000000
      0E0000003A00460049004C00540052004F000100000000000000000000001600
      00003A0044004100540041004C00410056004F0052004F000C00000000000000
      000000000E0000003A004F005200440049004E00450001000000000000000000
      00001A0000003A005100560049005300540041004F005200410043004C004500
      010000000000000000000000140000003A005400490050004F004C004F004700
      49004100050000000000000000000000060000003A0044004C00010000000000
      000000000000}
    UpdatingTable = 'T380_PIANIFREPERIB'
    CommitOnPost = False
    Left = 16
    Top = 8
  end
  object dsrT380Tab: TDataSource
    DataSet = cdsT380Tab
    Left = 120
    Top = 64
  end
  object cdsT380Tab: TClientDataSet
    Aggregates = <>
    FieldDefs = <>
    IndexDefs = <>
    Params = <>
    StoreDefs = True
    Left = 56
    Top = 64
  end
  object selT380Controllo: TOracleDataSet
    SQL.Strings = (
      'SELECT COUNT(*)'
      'FROM   T380_PIANIFREPERIB '
      'WHERE  DATA = :DATA AND'
      '       PROGRESSIVO <> :PROGRESSIVO AND'
      '       TIPOLOGIA = :TIPOLOGIA AND'
      '      (TURNO1 IN (:T1,:T2,:T3) OR'
      '       TURNO2 IN (:T1,:T2,:T3) OR'
      '       TURNO3 IN (:T1,:T2,:T3))')
    Optimize = False
    Variables.Data = {
      0400000006000000060000003A00540031000500000000000000000000000600
      00003A00540032000500000000000000000000000A0000003A00440041005400
      41000C0000000000000000000000180000003A00500052004F00470052004500
      53005300490056004F00030000000000000000000000060000003A0054003300
      050000000000000000000000140000003A005400490050004F004C004F004700
      49004100050000000000000000000000}
    Left = 216
    Top = 64
  end
  object selT385: TOracleDataSet
    SQL.Strings = (
      
        'SELECT T385.*, V010.FESTIVO DTFESTIVO, V010A.FESTIVO DTPREFESTIV' +
        'O, TO_CHAR(:DATA - 1,'#39'D'#39') DTGIORNO'
      
        'FROM T385_VINCOLI_REPERIB T385, V010_CALENDARI V010, V010_CALEND' +
        'ARI V010A'
      'WHERE T385.PROGRESSIVO = :PROGRESSIVO '
      '  AND T385.TIPOLOGIA = :TIPO'
      '  AND :DATA BETWEEN T385.DECORRENZA AND T385.DECORRENZA_FINE'
      '  AND V010.PROGRESSIVO = :PROGRESSIVO '
      '  AND V010.DATA = :DATA'
      '  AND V010A.PROGRESSIVO = :PROGRESSIVO '
      '  AND V010A.DATA = :DATA + 1'
      
        'ORDER BY DECODE(T385.GIORNO,'#39'*'#39',0,'#39'PF'#39',8,'#39'FS'#39',9,T385.GIORNO) DES' +
        'C')
    ReadBuffer = 5
    Optimize = False
    Variables.Data = {
      0400000003000000180000003A00500052004F00470052004500530053004900
      56004F000300000000000000000000000A0000003A0044004100540041000C00
      000000000000000000000A0000003A005400490050004F000500000000000000
      00000000}
    QBEDefinition.QBEFieldDefs = {
      0500000006000000080000004400410054004100010000000000160000005000
      52004F0047005200450053005300490056004F000100000000000C0000005400
      550052004E004F0031000100000000000C0000005400550052004E004F003200
      010000000000140000004400410054004F004C0049004200450052004F000100
      000000000C0000005400550052004E004F003300010000000000}
    UpdatingTable = 'T380_PIANIFREPERIB '
    Left = 296
    Top = 64
  end
  object selT380a: TOracleDataSet
    SQL.Strings = (
      'select T380.TURNO1, T380.TURNO2, T380.TURNO3'
      'from   t380_pianifreperib T380'
      'where  T380.progressivo = :PROGRESSIVO'
      'and    T380.data = :DATA'
      'and    T380.tipologia <> :TIPOLOGIA')
    ReadBuffer = 200
    Optimize = False
    Variables.Data = {
      0400000003000000140000003A005400490050004F004C004F00470049004100
      050000000000000000000000180000003A00500052004F004700520045005300
      5300490056004F000300000000000000000000000A0000003A00440041005400
      41000C0000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      0500000006000000080000004400410054004100010000000000160000005000
      52004F0047005200450053005300490056004F000100000000000C0000005400
      550052004E004F0031000100000000000C0000005400550052004E004F003200
      010000000000140000004400410054004F004C0049004200450052004F000100
      000000000C0000005400550052004E004F003300010000000000}
    UpdatingTable = 'T380_PIANIFREPERIB '
    Left = 352
    Top = 64
  end
  object selT350Opposto: TOracleDataSet
    SQL.Strings = (
      'SELECT * '
      'FROM   T350_REGREPERIB'
      'WHERE  TIPOLOGIA <> :TIPOLOGIA'
      'ORDER BY CODICE')
    Optimize = False
    Variables.Data = {
      0400000001000000140000003A005400490050004F004C004F00470049004100
      050000000000000000000000}
    Filtered = True
    Left = 424
    Top = 64
  end
  object insT380: TOracleQuery
    SQL.Strings = (
      'DECLARE'
      'BEGIN'
      '  SELECT T030.PROGRESSIVO INTO :PROGRESSIVO'
      '  FROM   T030_ANAGRAFICO T030 '
      '  WHERE  T030.MATRICOLA = :MATRICOLA;'
      ''
      '  INSERT INTO T380_PIANIFREPERIB '
      
        '    (PROGRESSIVO, DATA, BADGE, NOME, TURNO1, PRIORITA1, TURNO2, ' +
        'PRIORITA2, TURNO3, PRIORITA3, DATOLIBERO, TIPOLOGIA)'
      
        '    SELECT :PROGRESSIVO, :DATA, BADGE, COGNOME || '#39' '#39' || NOME, :' +
        'TURNO1, :PRIORITA1, :TURNO2, :PRIORITA2, :TURNO3, :PRIORITA3, :D' +
        'ATOLIBERO, :TIPOLOGIA'
      '    FROM   T030_ANAGRAFICO T030, T430_STORICO T430 '
      '    WHERE  T030.MATRICOLA = :MATRICOLA '
      '    AND    T430.PROGRESSIVO = T030.PROGRESSIVO '
      '    AND    :DATA BETWEEN DATADECORRENZA AND DATAFINE;'
      'EXCEPTION'
      '  WHEN NO_DATA_FOUND THEN'
      '    :PROGRESSIVO:=-1;'
      'END;')
    Optimize = False
    Variables.Data = {
      040000000B0000000A0000003A0044004100540041000C000000000000000000
      00000E0000003A005400550052004E004F003100050000000000000000000000
      0E0000003A005400550052004E004F0032000500000000000000000000001400
      00003A004D00410054005200490043004F004C00410005000000000000000000
      0000180000003A00500052004F0047005200450053005300490056004F000300
      000004000000FFFFFFFF000000000E0000003A005400550052004E004F003300
      050000000000000000000000160000003A004400410054004F004C0049004200
      450052004F00050000000000000000000000140000003A005400490050004F00
      4C004F00470049004100050000000000000000000000140000003A0050005200
      49004F0052004900540041003100030000000000000000000000140000003A00
      5000520049004F00520049005400410032000300000000000000000000001400
      00003A005000520049004F005200490054004100330003000000000000000000
      0000}
    Left = 632
    Top = 64
  end
  object selT040Assenza: TOracleDataSet
    SQL.Strings = (
      'SELECT CAUSALE'
      'FROM   T040_GIUSTIFICATIVI'
      'WHERE  PROGRESSIVO = :PROGRESSIVO AND'
      '       DATA = :DATA AND'
      '       TIPOGIUST = '#39'I'#39)
    Optimize = False
    Variables.Data = {
      0400000002000000180000003A00500052004F00470052004500530053004900
      56004F000300000000000000000000000A0000003A0044004100540041000C00
      00000000000000000000}
    Left = 96
    Top = 8
  end
  object selT430Contratto: TOracleDataSet
    SQL.Strings = (
      'SELECT T430.CONTRATTO,T200.DESCRIZIONE,ABPRESENZA1'
      'FROM  T430_STORICO T430, T200_CONTRATTI T200'
      'WHERE T430.PROGRESSIVO = :PROGRESSIVO AND'
      '      T430.DATADECORRENZA <= :DATA AND'
      '      T430.DATAFINE >= :DATA AND'
      '      T430.CONTRATTO = T200.CODICE')
    Optimize = False
    Variables.Data = {
      0400000002000000180000003A00500052004F00470052004500530053004900
      56004F000300000000000000000000000A0000003A0044004100540041000C00
      00000000000000000000}
    Left = 512
    Top = 64
  end
  object selT270: TOracleDataSet
    SQL.Strings = (
      'SELECT CODICE '
      'FROM   T270_RAGGRPRESENZE'
      'WHERE  CODINTERNO = :CODINTERNO')
    Optimize = False
    Variables.Data = {
      0400000001000000160000003A0043004F00440049004E005400450052004E00
      4F00050000000000000000000000}
    Left = 584
    Top = 64
  end
  object selT011: TOracleDataSet
    SQL.Strings = (
      
        'SELECT T430.PROGRESSIVO, T011.DATA, T010F_GGLAVORATIVO(T430.PROG' +
        'RESSIVO,T011.DATA) LAVORATIVO'
      'FROM T430_STORICO T430, T011_CALENDARI T011'
      'WHERE T430.PROGRESSIVO :filtro_dip'
      'AND T011.CODICE = T430.CALENDARIO '
      'AND T011.DATA BETWEEN T430.DATADECORRENZA AND T430.DATAFINE'
      'AND T011.DATA BETWEEN :DAL AND :AL'
      'ORDER BY T430.PROGRESSIVO, T011.DATA')
    ReadBuffer = 100
    Optimize = False
    Variables.Data = {
      0400000003000000080000003A00440041004C000C0000000000000000000000
      060000003A0041004C000C0000000000000000000000160000003A0046004900
      4C00540052004F005F00440049005000010000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      050000000B00000016000000500052004F004700520045005300530049005600
      4F000100000000000800000044004100540041000100000000000E0000004300
      41005500530041004C00450001000000000018000000500052004F0047005200
      430041005500530041004C004500010000000000120000005400490050004F00
      470049005500530054000100000000000A000000440041004F00520045000100
      000000000800000041004F00520045000100000000000C000000530043004800
      4500440041000100000000000C0000005300540041004D005000410001000000
      00000E00000044004100540041004E0041005300010000000000160000004400
      450053004300520049005A0049004F004E004500010000000000}
    Left = 176
    Top = 8
  end
  object selT180: TOracleDataSet
    SQL.Strings = (
      'SELECT * '
      'FROM T180_DATIBLOCCATI T180'
      'WHERE T180.PROGRESSIVO :filtro_dip'
      'AND T180.RIEPILOGO = '#39'T380'#39
      'AND T180.DAL <= :AL'
      'AND T180.AL >= :DAL '
      'ORDER BY T180.PROGRESSIVO, T180.DAL')
    Optimize = False
    Variables.Data = {
      0400000003000000080000003A00440041004C000C0000000000000000000000
      060000003A0041004C000C0000000000000000000000160000003A0046004900
      4C00540052004F005F00440049005000010000000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      050000000B00000016000000500052004F004700520045005300530049005600
      4F000100000000000800000044004100540041000100000000000E0000004300
      41005500530041004C00450001000000000018000000500052004F0047005200
      430041005500530041004C004500010000000000120000005400490050004F00
      470049005500530054000100000000000A000000440041004F00520045000100
      000000000800000041004F00520045000100000000000C000000530043004800
      4500440041000100000000000C0000005300540041004D005000410001000000
      00000E00000044004100540041004E0041005300010000000000160000004400
      450053004300520049005A0049004F004E004500010000000000}
    Left = 328
    Top = 8
  end
end
