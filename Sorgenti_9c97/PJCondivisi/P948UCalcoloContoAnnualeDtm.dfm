inherited P948FCalcoloContoAnnualeDtm: TP948FCalcoloContoAnnualeDtm
  OldCreateOrder = True
  Height = 479
  Width = 859
  object scrP555: TOracleQuery
    SQL.Strings = (
      'BEGIN'
      '  UPDATE P555_CONTOANNDATIINDIVIDUALI '
      '     SET VALORE = VALORE + :Valore'
      '   WHERE ID_CONTOANN = :IdCONTANN'
      '     AND PROGRESSIVO = :Progressivo '
      '     AND RIGA = :Riga '
      '     AND COLONNA = :Colonna;'
      '  IF SQL%ROWCOUNT = 0 THEN'
      '    INSERT INTO P555_CONTOANNDATIINDIVIDUALI'
      '      (ID_CONTOANN, PROGRESSIVO, RIGA, COLONNA, VALORE)'
      '    VALUES'
      '      (:IdCONTANN, :Progressivo, :Riga, :Colonna, :Valore);'
      '  END IF;'
      'END;'
      '')
    Optimize = False
    Variables.Data = {
      04000000050000000E0000003A00560041004C004F0052004500040000000000
      000000000000180000003A00500052004F004700520045005300530049005600
      4F00030000000000000000000000140000003A004900440043004F004E005400
      41004E004E000300000000000000000000000A0000003A005200490047004100
      030000000000000000000000100000003A0043004F004C004F004E004E004100
      030000000000000000000000}
    Left = 25
    Top = 132
  end
  object OperSql: TOracleDataSet
    ReadBuffer = 100
    Optimize = False
    CommitOnPost = False
    Left = 82
    Top = 65
  end
  object selP552: TOracleDataSet
    SQL.Strings = (
      '-- Estraggo dati per query tabella'
      
        'SELECT RIGA, COLONNA, COD_ARROTONDAMENTO, VALORE_COSTANTE, CODIC' +
        'I_ACCORPAMENTOVOCI, REGOLA_CALCOLO_AUTOMATICA, REGOLA_CALCOLO_MA' +
        'NUALE,'
      
        '  NUMERO_TREDCORR, NUMERO_TREDPREC, NUMERO_ARRCORR, NUMERO_ARRPR' +
        'EC, DATA_ACCORPAMENTO, FILTRO_DIPENDENTI'
      '  FROM P552_CONTOANNREGOLE'
      
        '  WHERE ANNO = (SELECT MAX(ANNO) FROM P552_CONTOANNREGOLE WHERE ' +
        'ANNO <= :AnnoElaborazione) '
      '  AND COD_TABELLA = :CodTabella'
      
        '  AND ((:TipoTabellaRighe IN ('#39'0'#39','#39'1'#39') AND RIGA = 0 AND COLONNA ' +
        '> 0) OR (:TipoTabellaRighe = '#39'2'#39' AND RIGA > 0 AND COLONNA = 0))'
      '  ORDER BY RIGA,COLONNA')
    Optimize = False
    Variables.Data = {
      0400000003000000220000003A0041004E004E004F0045004C00410042004F00
      520041005A0049004F004E004500050000000000000000000000160000003A00
      43004F00440054004100420045004C004C004100050000000000000000000000
      220000003A005400490050004F0054004100420045004C004C00410052004900
      470048004500050000000000000000000000}
    CommitOnPost = False
    Left = 23
    Top = 8
  end
  object selP552a: TOracleDataSet
    SQL.Strings = (
      
        '-- Estraggo i dati utili per risalire al numero di riga nel caso' +
        ' di tabelle con tipologia righe qualif.minist. o altro dato libe' +
        'ro'
      'SELECT RIGA, VALORE_COSTANTE FROM P552_CONTOANNREGOLE'
      
        '  WHERE ANNO = (SELECT MAX(ANNO) FROM P552_CONTOANNREGOLE WHERE ' +
        'ANNO <= :AnnoElaborazione) '
      '  AND COD_TABELLA = :CodTabella'
      '  AND RIGA > 0 AND COLONNA = 0'
      '  ORDER BY RIGA,COLONNA')
    Optimize = False
    Variables.Data = {
      0400000002000000220000003A0041004E004E004F0045004C00410042004F00
      520041005A0049004F004E004500050000000000000000000000160000003A00
      43004F00440054004100420045004C004C004100050000000000000000000000}
    CommitOnPost = False
    Left = 79
    Top = 8
  end
  object selT430: TOracleDataSet
    SQL.Strings = (
      
        'SELECT :DATO_LIBERO AS DATO,DATADECORRENZA,DATAFINE,INIZIO,FINE ' +
        'FROM T430_STORICO '
      '  WHERE PROGRESSIVO = :Progressivo'
      
        '  AND DATADECORRENZA <= TO_DATE('#39'3112'#39'||:AnnoElaborazione,'#39'ddmmy' +
        'yyy'#39')'
      '  AND DATAFINE >= TO_DATE('#39'0101'#39'||:AnnoElaborazione,'#39'ddmmyyyy'#39')'
      '  AND :DATO_LIBERO IS NOT NULL')
    Optimize = False
    Variables.Data = {
      0400000003000000180000003A00500052004F00470052004500530053004900
      56004F00030000000000000000000000180000003A004400410054004F005F00
      4C0049004200450052004F00010000000000000000000000220000003A004100
      4E004E004F0045004C00410042004F00520041005A0049004F004E0045000500
      00000000000000000000}
    QBEDefinition.QBEFieldDefs = {
      05000000070000000C00000049004E0049005A0049004F000100000000001400
      00004D004500530045005F0049004E0049005A004F0001000000000010000000
      4700470049004E0049005A0049004F0001000000000008000000460049004E00
      4500010000000000120000004D004500530045005F00460049004E0045000100
      000000000C00000047004700460049004E004500010000000000160000004700
      49004F0052004E0049005F004D00450053004500010000000000}
    Left = 19
    Top = 65
  end
  object selP552b: TOracleDataSet
    SQL.Strings = (
      '-- Estraggo codice arrotondamento'
      'SELECT COD_TABELLA, RIGA, COLONNA, COD_ARROTONDAMENTO'
      '  FROM P552_CONTOANNREGOLE P552'
      
        '  WHERE ANNO = (SELECT MAX(ANNO) FROM P552_CONTOANNREGOLE WHERE ' +
        'ANNO <= :AnnoElaborazione) '
      
        '  AND ((EXISTS (SELECT '#39'*'#39' FROM P552_CONTOANNREGOLE P552A WHERE ' +
        'P552A.ANNO = P552.ANNO'
      
        '  AND P552A.COD_TABELLA = P552.COD_TABELLA AND RIGA = 0 AND COLO' +
        'NNA = 0 AND TIPO_TABELLA_RIGHE IN('#39'0'#39','#39'1'#39'))'
      '  AND RIGA = 0 AND COLONNA > 0)'
      '    OR '
      
        '  (EXISTS (SELECT '#39'*'#39' FROM P552_CONTOANNREGOLE P552A WHERE P552A' +
        '.ANNO = P552.ANNO'
      
        '  AND P552A.COD_TABELLA = P552.COD_TABELLA AND RIGA = 0 AND COLO' +
        'NNA = 0 AND TIPO_TABELLA_RIGHE = '#39'2'#39')'
      '  AND RIGA > 0 AND COLONNA = 0))'
      '  AND COD_ARROTONDAMENTO IS NOT NULL'
      '  ORDER BY COD_TABELLA,RIGA,COLONNA')
    Optimize = False
    Variables.Data = {
      0400000001000000220000003A0041004E004E004F0045004C00410042004F00
      520041005A0049004F004E004500050000000000000000000000}
    CommitOnPost = False
    Left = 151
    Top = 8
  end
  object selP552c: TOracleDataSet
    SQL.Strings = (
      '-- Estraggo dati per Filtro dipendenti'
      'SELECT FILTRO_DIPENDENTI'
      '  FROM P552_CONTOANNREGOLE'
      
        '  WHERE ANNO = (SELECT MAX(ANNO) FROM P552_CONTOANNREGOLE WHERE ' +
        'ANNO <= :AnnoElaborazione) '
      '  AND COD_TABELLA = :CodTabella'
      '  AND RIGA = 0 AND COLONNA = 0')
    Optimize = False
    Variables.Data = {
      0400000002000000220000003A0041004E004E004F0045004C00410042004F00
      520041005A0049004F004E004500050000000000000000000000160000003A00
      43004F00440054004100420045004C004C004100050000000000000000000000}
    CommitOnPost = False
    Left = 215
    Top = 8
  end
end
